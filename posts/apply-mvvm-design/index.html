<!doctype html>














<!-- `site.alt_lang` can specify a language different from the UI -->
<html lang="en" >
  <head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta
    name="viewport"
    content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover"
  ><!-- Setup Open Graph image -->

  

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.2.2" />
<meta property="og:title" content="신입 프론트엔드 개발자의 MVVM 패턴 적용기" />
<meta name="author" content="한 재연" />
<meta property="og:locale" content="ko_KR" />
<meta name="description" content="MVVM 패턴은 디자인 패턴의 한 종류로, Model, View, ViewModel을 사용해 UI 관련 로직과 비즈니스 로직을 명확하게 분리합니다. 취업을 준비하던 시기에 진행했던 토이 프로젝트는 규모가 작아 이러한 패턴을 적용할 필요성을 느끼지 못했습니다. 그러나 프론트엔드 개발자로 일을 시작하고 사용자들이 사용할 실제 서비스를 제작하며, 코드의 유지보수성과 재사용성을 높이기 위해 MVVM 패턴을 적용해보는게 좋을것 같다는 코드리뷰 피드백을 받게 되었습니다. 신입 프론트엔드 개발자로써 한번도 써보지 않았던 MVVM 패턴을 어떻게 코드에 적용했는지, 또 리팩토링을 진행하며 어떤 부분을 고민했었는지 글을 통해 나눠보고자 합니다." />
<meta property="og:description" content="MVVM 패턴은 디자인 패턴의 한 종류로, Model, View, ViewModel을 사용해 UI 관련 로직과 비즈니스 로직을 명확하게 분리합니다. 취업을 준비하던 시기에 진행했던 토이 프로젝트는 규모가 작아 이러한 패턴을 적용할 필요성을 느끼지 못했습니다. 그러나 프론트엔드 개발자로 일을 시작하고 사용자들이 사용할 실제 서비스를 제작하며, 코드의 유지보수성과 재사용성을 높이기 위해 MVVM 패턴을 적용해보는게 좋을것 같다는 코드리뷰 피드백을 받게 되었습니다. 신입 프론트엔드 개발자로써 한번도 써보지 않았던 MVVM 패턴을 어떻게 코드에 적용했는지, 또 리팩토링을 진행하며 어떤 부분을 고민했었는지 글을 통해 나눠보고자 합니다." />
<link rel="canonical" href="https://blog.by-softcorp.com/posts/apply-mvvm-design/" />
<meta property="og:url" content="https://blog.by-softcorp.com/posts/apply-mvvm-design/" />
<meta property="og:site_name" content="BY Soft Tech Insights" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-03-26T10:47:00+09:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="신입 프론트엔드 개발자의 MVVM 패턴 적용기" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"한 재연"},"dateModified":"2024-03-26T10:47:00+09:00","datePublished":"2024-03-26T10:47:00+09:00","description":"MVVM 패턴은 디자인 패턴의 한 종류로, Model, View, ViewModel을 사용해 UI 관련 로직과 비즈니스 로직을 명확하게 분리합니다. 취업을 준비하던 시기에 진행했던 토이 프로젝트는 규모가 작아 이러한 패턴을 적용할 필요성을 느끼지 못했습니다. 그러나 프론트엔드 개발자로 일을 시작하고 사용자들이 사용할 실제 서비스를 제작하며, 코드의 유지보수성과 재사용성을 높이기 위해 MVVM 패턴을 적용해보는게 좋을것 같다는 코드리뷰 피드백을 받게 되었습니다. 신입 프론트엔드 개발자로써 한번도 써보지 않았던 MVVM 패턴을 어떻게 코드에 적용했는지, 또 리팩토링을 진행하며 어떤 부분을 고민했었는지 글을 통해 나눠보고자 합니다.","headline":"신입 프론트엔드 개발자의 MVVM 패턴 적용기","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.by-softcorp.com/posts/apply-mvvm-design/"},"url":"https://blog.by-softcorp.com/posts/apply-mvvm-design/"}</script>
<!-- End Jekyll SEO tag -->


  <title>신입 프론트엔드 개발자의 MVVM 패턴 적용기 | BY Soft Tech Insights
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">
<link rel="manifest" href="/assets/img/favicons/site.webmanifest">
<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="BY Soft Tech Insights">
<meta name="application-name" content="BY Soft Tech Insights">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  
    
      <link rel="preconnect" href="https://fonts.googleapis.com" >
      <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
    
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin>
    
      <link rel="preconnect" href="https://fonts.googleapis.com" >
      <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
    
      <link rel="preconnect" href="https://cdn.jsdelivr.net" >
      <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" >
    

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap">
  

  <!-- GA -->
  

  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css">

  <link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css">

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.25.0/dist/tocbot.min.css">
  

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css">
  

  
    <!-- Manific Popup -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css">
  

  <!-- JavaScript -->

  
    <!-- Switch the mode between dark and light. -->

<script type="text/javascript">
  class ModeToggle {
    static get MODE_KEY() {
      return 'mode';
    }
    static get MODE_ATTR() {
      return 'data-mode';
    }
    static get DARK_MODE() {
      return 'dark';
    }
    static get LIGHT_MODE() {
      return 'light';
    }
    static get ID() {
      return 'mode-toggle';
    }

    constructor() {
      if (this.hasMode) {
        if (this.isDarkMode) {
          if (!this.isSysDarkPrefer) {
            this.setDark();
          }
        } else {
          if (this.isSysDarkPrefer) {
            this.setLight();
          }
        }
      }

      let self = this;

      /* always follow the system prefers */
      this.sysDarkPrefers.addEventListener('change', () => {
        if (self.hasMode) {
          if (self.isDarkMode) {
            if (!self.isSysDarkPrefer) {
              self.setDark();
            }
          } else {
            if (self.isSysDarkPrefer) {
              self.setLight();
            }
          }

          self.clearMode();
        }

        self.notify();
      });
    } /* constructor() */

    get sysDarkPrefers() {
      return window.matchMedia('(prefers-color-scheme: dark)');
    }

    get isSysDarkPrefer() {
      return this.sysDarkPrefers.matches;
    }

    get isDarkMode() {
      return this.mode === ModeToggle.DARK_MODE;
    }

    get isLightMode() {
      return this.mode === ModeToggle.LIGHT_MODE;
    }

    get hasMode() {
      return this.mode != null;
    }

    get mode() {
      return sessionStorage.getItem(ModeToggle.MODE_KEY);
    }

    /* get the current mode on screen */
    get modeStatus() {
      if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) {
        return ModeToggle.DARK_MODE;
      } else {
        return ModeToggle.LIGHT_MODE;
      }
    }

    setDark() {
      document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE);
    }

    setLight() {
      document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE);
    }

    clearMode() {
      document.documentElement.removeAttribute(ModeToggle.MODE_ATTR);
      sessionStorage.removeItem(ModeToggle.MODE_KEY);
    }

    /* Notify another plugins that the theme mode has changed */
    notify() {
      window.postMessage(
        {
          direction: ModeToggle.ID,
          message: this.modeStatus
        },
        '*'
      );
    }

    flipMode() {
      if (this.hasMode) {
        if (this.isSysDarkPrefer) {
          if (this.isLightMode) {
            this.clearMode();
          } else {
            this.setLight();
          }
        } else {
          if (this.isDarkMode) {
            this.clearMode();
          } else {
            this.setDark();
          }
        }
      } else {
        if (this.isSysDarkPrefer) {
          this.setLight();
        } else {
          this.setDark();
        }
      }

      this.notify();
    } /* flipMode() */
  } /* ModeToggle */

  const modeToggle = new ModeToggle();
</script>

  

  <!-- A placeholder to allow defining custom metadata -->

</head>


  <body>
    <!-- The Side Bar -->

<aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end">
  <header class="profile-wrapper">
    <a href="/" id="avatar" class="rounded-circle"><img src="/assets/img/commons/bi.png" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a>

    <h1 class="site-title">
      <a href="/">BY Soft Tech Insights</a>
    </h1>
    <p class="site-subtitle fst-italic mb-0">Building the Future with the Power of Code, Our Story Awaits You Here.</p>
  </header>
  <!-- .profile-wrapper -->

  <nav class="flex-column flex-grow-1 w-100 ps-0">
    <ul class="nav">
      <!-- home -->
      <li class="nav-item">
        <a href="/" class="nav-link">
          <i class="fa-fw fas fa-home"></i>
          <span>HOME</span>
        </a>
      </li>
      <!-- the real tabs -->
      
        <li class="nav-item">
          <a href="/categories/" class="nav-link">
            <i class="fa-fw fas fa-stream"></i>
            

            <span>CATEGORIES</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/tags/" class="nav-link">
            <i class="fa-fw fas fa-tags"></i>
            

            <span>TAGS</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/archives/" class="nav-link">
            <i class="fa-fw fas fa-archive"></i>
            

            <span>ARCHIVES</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/about/" class="nav-link">
            <i class="fa-fw fas fa-info-circle"></i>
            

            <span>ABOUT</span>
          </a>
        </li>
        <!-- .nav-item -->
      
    </ul>
  </nav>

  <div class="sidebar-bottom d-flex flex-wrap  align-items-center w-100">
    
      <button type="button" class="mode-toggle btn" aria-label="Switch Mode">
        <i class="fas fa-adjust"></i>
      </button>

      
        <span class="icon-border"></span>
      
    

    
      

      
        <a
          href="https://github.com/BY-SoftCorp"
          aria-label="github"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-github"></i>
        </a>
      
    
      

      
        <a
          href="https://twitter.com/"
          aria-label="twitter"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fa-brands fa-x-twitter"></i>
        </a>
      
    
      

      
        <a
          href="javascript:location.href = 'mailto:' + ['dev','by-softcorp.com'].join('@')"
          aria-label="email"
          

          

          

          
        >
          <i class="fas fa-envelope"></i>
        </a>
      
    
      

      
        <a
          href="/feed.xml"
          aria-label="rss"
          

          

          

          
        >
          <i class="fas fa-rss"></i>
        </a>
      
    
  </div>
  <!-- .sidebar-bottom -->
</aside>
<!-- #sidebar -->


    <div id="main-wrapper" class="d-flex justify-content-center">
      <div class="container d-flex flex-column px-xxl-5">
        <!-- The Top Bar -->

<header id="topbar-wrapper" aria-label="Top Bar">
  <div
    id="topbar"
    class="d-flex align-items-center justify-content-between px-lg-3 h-100"
  >
    <nav id="breadcrumb" aria-label="Breadcrumb">
      

      
        
          
            <span>
              <a href="/">
                Home
              </a>
            </span>

          
        
          
        
          
            
              <span>신입 프론트엔드 개발자의 MVVM 패턴 적용기</span>
            

          
        
      
    </nav>
    <!-- endof #breadcrumb -->

    <button type="button" id="sidebar-trigger" class="btn btn-link">
      <i class="fas fa-bars fa-fw"></i>
    </button>

    <div id="topbar-title">
      Post
    </div>

    <button type="button" id="search-trigger" class="btn btn-link">
      <i class="fas fa-search fa-fw"></i>
    </button>

    <search class="align-items-center ms-3 ms-lg-0">
      <i class="fas fa-search fa-fw"></i>
      <input
        class="form-control"
        id="search-input"
        type="search"
        aria-label="search"
        autocomplete="off"
        placeholder="Search..."
      >
    </search>
    <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button>
  </div>
</header>


        <div class="row flex-grow-1">
          <main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              <!-- Refactor the HTML structure -->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Change the icon of checkbox -->



<!-- Handle images -->





<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  

  
  

  




<!-- return -->




<article class="px-1">
  <header>
    <h1 data-toc-skip>신입 프론트엔드 개발자의 MVVM 패턴 적용기</h1>

    <div class="post-meta text-muted">
      <!-- published date -->
      <span>
        Posted
        <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1711417620"
  data-df="ll"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  Mar 26, 2024
</time>

      </span>

      <!-- lastmod date -->
      

      

      <div class="d-flex justify-content-between">
        <!-- author(s) -->
        <span>
          

          By

          <em>
            
              
                한 재연
                
              
            
          </em>
        </span>

        <!-- read time -->
        <!-- Calculate the post's reading time, and display the word count in tooltip -->



<!-- words per minute -->










<!-- return element -->
<span
  class="readtime"
  data-bs-toggle="tooltip"
  data-bs-placement="bottom"
  title="3617 words"
>
  <em>20 min</em> read</span>

      </div>
      <!-- .d-flex -->
    </div>
    <!-- .post-meta -->
  </header>

  <div class="content">
    <p><code class="language-plaintext highlighter-rouge">MVVM</code> 패턴은 디자인 패턴의 한 종류로, Model, View, ViewModel을 사용해 UI 관련 로직과 비즈니스 로직을 명확하게 분리합니다. 취업을 준비하던 시기에 진행했던 토이 프로젝트는 규모가 작아 이러한 패턴을 적용할 필요성을 느끼지 못했습니다. 그러나 프론트엔드 개발자로 일을 시작하고 사용자들이 사용할 실제 서비스를 제작하며, 코드의 유지보수성과 재사용성을 높이기 위해 MVVM 패턴을 적용해보는게 좋을것 같다는 코드리뷰 피드백을 받게 되었습니다. 신입 프론트엔드 개발자로써 한번도 써보지 않았던 MVVM 패턴을 어떻게 코드에 적용했는지, 또 리팩토링을 진행하며 어떤 부분을 고민했었는지 글을 통해 나눠보고자 합니다.</p>

<h2 id="리팩토링-과정"><span class="me-2">리팩토링 과정</span><a href="#리팩토링-과정" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<h3 id="초기-코드"><span class="me-2">초기 코드</span><a href="#초기-코드" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-tsx highlighter-rouge"><div class="code-header">
        <span data-label-text="Tsx"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
</pre></td><td class="rouge-code"><pre><span class="kr">interface</span> <span class="nx">DropdownListProps</span> <span class="p">{</span>
  <span class="nl">data</span><span class="p">:</span> <span class="kr">string</span><span class="p">[];</span>
  <span class="nl">placeholder</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">DropdownList</span><span class="p">(</span><span class="nx">props</span><span class="p">:</span> <span class="nx">DropdownListProps</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">isListOpen</span><span class="p">,</span> <span class="nx">setIsListOpen</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="o">&lt;</span><span class="nx">boolean</span><span class="o">&gt;</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">selectedOption</span><span class="p">,</span> <span class="nx">setSelectedOption</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="o">&lt;</span><span class="kr">string</span><span class="o">&gt;</span><span class="p">(</span><span class="dl">""</span><span class="p">);</span>
  <span class="kd">const</span> <span class="p">{</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">placeholder</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">props</span><span class="p">;</span>

  <span class="nx">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">setSelectedOption</span><span class="p">(</span><span class="nx">placeholder</span><span class="p">);</span>
  <span class="p">},</span> <span class="p">[]);</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nc">DropdownListContainer</span> <span class="na">onClick</span><span class="p">=</span><span class="si">{</span><span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">setIsListOpen</span><span class="p">(</span><span class="o">!</span><span class="nx">isListOpen</span><span class="p">)</span><span class="si">}</span><span class="p">&gt;</span>
      <span class="si">{</span><span class="nx">selectedOption</span><span class="si">}</span>
      <span class="si">{</span><span class="nx">isListOpen</span> <span class="p">?</span> <span class="p">(</span>
        <span class="p">&lt;</span><span class="nc">DropdownListOptionContainer</span><span class="p">&gt;</span>
          <span class="si">{</span><span class="nx">data</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">option</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">(</span>
            <span class="p">&lt;</span><span class="nc">DropdownListOption</span> <span class="na">key</span><span class="p">=</span><span class="si">{</span><span class="nx">option</span><span class="si">}</span> <span class="na">onClick</span><span class="p">=</span><span class="si">{</span><span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">setSelectedOption</span><span class="p">(</span><span class="nx">option</span><span class="p">)</span><span class="si">}</span><span class="p">&gt;</span>
              <span class="si">{</span><span class="nx">option</span><span class="si">}</span>
            <span class="p">&lt;/</span><span class="nc">DropdownListOption</span><span class="p">&gt;</span>
          <span class="p">))</span><span class="si">}</span>
        <span class="p">&lt;/</span><span class="nc">DropdownListOptionContainer</span><span class="p">&gt;</span>
      <span class="p">)</span> <span class="p">:</span> <span class="p">(</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="p">/&gt;</span>
      <span class="p">)</span><span class="si">}</span>
    <span class="p">&lt;/</span><span class="nc">DropdownListContainer</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">DropdownList</span>
</pre></td></tr></tbody></table></code></div></div>

<p>가져온 코드는 공통 컴포넌트로 제작한 드롭다운 리스트 컴포넌트입니다. 제일 처음에 작성했던 코드인데, 컴포넌트를 사용하는 곳에서 서버 데이터를 props로 넘겨받고 그 데이터를 바로 TSX에 적용해주는 형식입니다. 하나의 파일에서 컴포넌트의 모든 것을 컨트롤 하고 있기 때문에 당연히 UI 로직과 비즈니스 로직은 구분되어있지 않습니다.</p>

<p>이 컴포넌트에 MVVM 패턴을 적용해보라는 과제를 받고 로직을 어떻게 나눠야 하나 많은 고민을 했습니다. View가 가져가야하는 부분은 TSX가 리턴되는 부분으로 비교적 명확하게 보였으나, 데이터를 다루는 비즈니스 로직이 보이지 않았기 때문입니다. 그리고 ViewModel을 실제로 어떻게 구현해야하는지 감이 잡히지 않았습니다. 그래서 우선 데이터를 불러오는 부분을 Model로 분리해보는 일부터 시작해보기로 했습니다. View는 어느정도 완성이 된 상태이니 Model을 작성하고 나면 ViewModel의 역할도 보이지 않을까? 하는 생각이었습니다.</p>

<h3 id="1차-리팩토링"><span class="me-2">1차 리팩토링</span><a href="#1차-리팩토링" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-tsx highlighter-rouge"><div class="code-header">
        <span data-label-text="Tsx"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
</pre></td><td class="rouge-code"><pre><span class="c1">// Model</span>
<span class="kd">const</span> <span class="nx">rawDataCountries</span> <span class="o">=</span> <span class="p">[</span><span class="dl">'</span><span class="s1">Korea</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">Japan</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">Singapore</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">Australia</span><span class="dl">'</span><span class="p">]</span>

<span class="kr">interface</span> <span class="nx">DropdownListItem</span> <span class="p">{</span>
    <span class="nl">getTitle</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="kr">string</span>
    <span class="nx">isSelected</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">boolean</span>
    <span class="nx">setSelected</span><span class="p">:</span> <span class="p">(</span><span class="nx">isSelected</span><span class="p">:</span> <span class="nx">boolean</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">void</span>
    <span class="nx">isSelectable</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">boolean</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nx">DropdownListItemCountry</span> <span class="k">implements</span> <span class="nx">DropdownListItem</span> <span class="p">{</span>
    <span class="k">private</span> <span class="k">readonly</span> <span class="nx">title</span><span class="p">:</span> <span class="kr">string</span>

    <span class="k">private</span> <span class="nx">selected</span><span class="p">:</span> <span class="nx">boolean</span>

    <span class="k">private</span> <span class="k">readonly</span> <span class="nx">selectable</span><span class="p">:</span> <span class="nx">boolean</span> <span class="o">=</span> <span class="kc">true</span>

    <span class="kd">constructor</span><span class="p">(</span><span class="nx">title</span><span class="p">:</span> <span class="kr">string</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">title</span> <span class="o">=</span> <span class="nx">title</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">selected</span> <span class="o">=</span> <span class="kc">false</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">title</span><span class="p">)</span> <span class="k">this</span><span class="p">.</span><span class="nx">selectable</span> <span class="o">=</span> <span class="kc">false</span>
    <span class="p">}</span>

    <span class="nx">getTitle</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">title</span>

    <span class="nx">isSelected</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">selected</span>

    <span class="nx">setSelected</span> <span class="o">=</span> <span class="p">(</span><span class="nx">selected</span><span class="p">:</span> <span class="nx">boolean</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">selected</span> <span class="o">=</span> <span class="nx">selected</span>
    <span class="p">}</span>

    <span class="nx">isSelectable</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">selectable</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">DropdownListProcessedData</span> <span class="p">{</span>
    <span class="nl">getCountryList</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">DropdownListItem</span><span class="p">[]</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nx">ProcessedData</span> <span class="k">implements</span> <span class="nx">DropdownListProcessedData</span> <span class="p">{</span>
    <span class="k">private</span> <span class="nx">countryList</span><span class="p">:</span> <span class="nx">DropdownListItem</span><span class="p">[]</span>

    <span class="kd">constructor</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">countryList</span> <span class="o">=</span> <span class="nx">rawDataCountries</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span>
            <span class="p">(</span><span class="nx">item</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">new</span> <span class="nx">DropdownListItemCountry</span><span class="p">(</span><span class="nx">item</span><span class="p">)</span>
        <span class="p">)</span>
    <span class="p">}</span>

    <span class="nx">getCountryList</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">countryList</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">ProcessedData</span>
</pre></td></tr></tbody></table></code></div></div>

<p>1차 리팩토링 후 Model로 분리한 코드입니다. 문자열 배열 형식의 더미 데이터를 미리 정의해두고, 해당 데이터가 서버에서 넘어왔다고 가정한 후 코드를 작성했습니다.</p>

<p>데이터를 불러와 따로 분리해놓고 나니, 해당 선택지가 선택이 된 상태인지, 선택이 가능한 상태인지에 관한 정보도 함께 들어있으면 좋겠다는 생각이 들었습니다. 그래서 속성으로는 제가 원하는 정보를 저장하고, 행위는 해당 객체가 가진 정보를 수정할 수 있도록 각각의 선택지들을 객체로 만들어주는 클래스를 만들어주었습니다. 저는 간단하게 어떤 선택지인지 알려주는 <code class="language-plaintext highlighter-rouge">title</code>과 해당 선택지가 선택되었는지 알려주는 <code class="language-plaintext highlighter-rouge">selected</code>, 선택지가 선택이 가능한지 알려주는 <code class="language-plaintext highlighter-rouge">selectable</code> 속성 세 개를 정의해주었습니다. 그리고 세 개의 속성을 리턴해주는 메서드와 선택지가 선택되었을때 <code class="language-plaintext highlighter-rouge">selected</code> 속성값을 바꿔주는 <code class="language-plaintext highlighter-rouge">setSelected</code> 메서드도 포함해주었습니다. 단순하게 이름만 가지던 선택지들이 <code class="language-plaintext highlighter-rouge">selected</code>와 <code class="language-plaintext highlighter-rouge">selectable</code> 속성을 가지게 됨으로써 드롭다운 리스트에서 어떤 선택지를 선택했을 때, 다른 컴포넌트에서 선택된 옵션을 받아 제품 목록을 보여주는 등의 방법으로 재사용될 수 있게 되었습니다.</p>

<p>그리고 최종적으로 각각의 선택지 객체들을 리스트로 모아주는 객체를 만들어 ViewModel이 바로 활용할 수 있는 형태를 반환하도록 했습니다.</p>

<div class="language-tsx highlighter-rouge"><div class="code-header">
        <span data-label-text="Tsx"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td><td class="rouge-code"><pre><span class="c1">// ViewModel</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">useState</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">ProcessedData</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@components/dropdown-list/model</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">DropdownListViewModel</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">isListOpen</span><span class="p">,</span> <span class="nx">setIsListOpen</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="o">&lt;</span><span class="nx">boolean</span><span class="o">&gt;</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">selectedCountryOption</span><span class="p">,</span> <span class="nx">setSelectedCountryOption</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="o">&lt;</span><span class="kr">string</span> <span class="o">|</span> <span class="kc">undefined</span><span class="o">&gt;</span><span class="p">(</span><span class="kc">undefined</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">countryList</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ProcessedData</span><span class="p">().</span><span class="nx">getCountryList</span><span class="p">();</span>

  <span class="kd">function</span> <span class="nx">handleListDisplay</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">setIsListOpen</span><span class="p">(</span><span class="o">!</span><span class="nx">isListOpen</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="kd">function</span> <span class="nx">handleSelectOption</span><span class="p">(</span><span class="nx">idx</span><span class="p">:</span> <span class="kr">number</span><span class="p">,</span> <span class="nx">list</span><span class="p">:</span> <span class="kr">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">list</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">countryList</span><span class="dl">"</span><span class="p">)</span> <span class="nx">setSelectedCountryOption</span><span class="p">(</span><span class="nx">countryList</span><span class="p">[</span><span class="nx">idx</span><span class="p">].</span><span class="nx">getTitle</span><span class="p">());</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="p">{</span> <span class="nx">countryList</span><span class="p">,</span> <span class="nx">isListOpen</span><span class="p">,</span> <span class="nx">selectedCountryOption</span><span class="p">,</span> <span class="nx">handleListDisplay</span><span class="p">,</span> <span class="nx">handleSelectOption</span> <span class="p">};</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">DropdownListViewModel</span><span class="p">;</span>
</pre></td></tr></tbody></table></code></div></div>

<p>View와 Model의 윤곽이 잡히고 나니 ViewModel도 구현이 가능했습니다. View와 Model이 직접적으로 연결이 된다면 서로에 대한 의존성이 높아지기 때문에, 단순한 작업이라도 ViewModel 통하도록 해주었습니다. ViewModel이 Model로부터 데이터를 전달받아 View로 전달해주고, View에서 Model을 변경하는 인터렉션이 일어나면 ViewModel을 통해 Model에게 변경점을 알리게 됩니다.</p>

<div class="language-tsx highlighter-rouge"><div class="code-header">
        <span data-label-text="Tsx"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
</pre></td><td class="rouge-code"><pre><span class="c1">// View</span>
<span class="c1">// ... Styled components 등 다른 import들</span>
<span class="k">import</span> <span class="nx">useDropdownListViewModel</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@components/dropdown-list/view-model</span><span class="dl">"</span><span class="p">;</span>

<span class="kr">interface</span> <span class="nx">DropdownListProps</span> <span class="p">{</span>
  <span class="nl">placeholder</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">DropdownList</span><span class="p">(</span><span class="nx">props</span><span class="p">:</span> <span class="nx">DropdownListProps</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">{</span>
    <span class="nx">countryList</span><span class="p">,</span>
    <span class="nx">isListOpen</span><span class="p">,</span>
    <span class="nx">selectedCountryOption</span><span class="p">,</span>
    <span class="nx">handleListDisplay</span><span class="p">,</span>
    <span class="nx">handleSelectOption</span><span class="p">,</span>
  <span class="p">}</span> <span class="o">=</span> <span class="nx">useDropdownListViewModel</span><span class="p">();</span>
  <span class="kd">const</span> <span class="p">{</span> <span class="nx">placeholder</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">props</span><span class="p">;</span>

  <span class="kd">const</span> <span class="nx">text</span> <span class="o">=</span> <span class="o">!</span><span class="nx">selectedCountryOption</span> <span class="p">?</span> <span class="nx">placeholder</span> <span class="p">:</span> <span class="nx">selectedCountryOption</span><span class="p">;</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nc">DropdownListContainer</span> <span class="na">onClick</span><span class="p">=</span><span class="si">{</span><span class="nx">handleListDisplay</span><span class="si">}</span><span class="p">&gt;</span>
      <span class="si">{</span><span class="nx">text</span><span class="si">}</span>
      <span class="si">{</span><span class="nx">isListOpen</span> <span class="p">?</span> <span class="p">(</span>
        <span class="p">&lt;</span><span class="nc">DropdownListOptionContainer</span><span class="p">&gt;</span>
          <span class="si">{</span><span class="nx">countryList</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">el</span><span class="p">,</span> <span class="nx">idx</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">(</span>
            <span class="p">&lt;</span><span class="nc">DropdownListOption</span>
              <span class="na">key</span><span class="p">=</span><span class="si">{</span><span class="nx">el</span><span class="p">.</span><span class="nx">getTitle</span><span class="p">()</span><span class="si">}</span>
              <span class="na">onClick</span><span class="p">=</span><span class="si">{</span><span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">handleSelectOption</span><span class="p">(</span><span class="nx">idx</span><span class="p">,</span> <span class="dl">"</span><span class="s2">countryList</span><span class="dl">"</span><span class="p">)</span><span class="si">}</span>
            <span class="p">&gt;</span>
              <span class="si">{</span><span class="nx">el</span><span class="p">.</span><span class="nx">getTitle</span><span class="p">()</span><span class="si">}</span>
            <span class="p">&lt;/</span><span class="nc">DropdownListOption</span><span class="p">&gt;</span>
          <span class="p">))</span><span class="si">}</span>
        <span class="p">&lt;/</span><span class="nc">DropdownListOptionContainer</span><span class="p">&gt;</span>
      <span class="p">)</span> <span class="p">:</span> <span class="p">(</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="p">/&gt;</span>
      <span class="p">)</span><span class="si">}</span>
    <span class="p">&lt;/</span><span class="nc">DropdownListContainer</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>View는 이전과 큰 차이는 없지만, 데이터를 받아오고 수정하는 모든 로직을 ViewModel을 통해서 받게 되었습니다.</p>

<p>첫 리팩토링을 거친 후 받은 피드백은 두 가지였습니다.</p>

<p>첫 번째 피드백은 Model과 ViewModel이 특정 데이터(Country 선택지 데이터)에 맞춰져있다는 것이었습니다. 그렇게 되면 Model과 ViewModel을 재사용하기가 힘들기 때문에 다양한 선택지 데이터를 적용하여 사용할 수 있도록 수정해달라고 하셨습니다.</p>

<p>두 번째 피드백은 Model에서 리스트를 만들어주는 클래스가 의미없는 인스턴스를 생성한다는 것이었습니다. 선택지를 추가한다거나 삭제하는 등 리스트 데이터를 변경하는 로직이 필요하다면 리스트를 다루는 클래스가 필요하겠지만, 현재로서는 그런 로직이 없으므로 클래스를 사용하지 않는 것이 좋겠다고 하셨습니다.</p>

<h3 id="2차-리팩토링"><span class="me-2">2차 리팩토링</span><a href="#2차-리팩토링" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-ts highlighter-rouge"><div class="code-header">
        <span data-label-text="TypeScript"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
</pre></td><td class="rouge-code"><pre><span class="c1">// Model</span>
<span class="kr">interface</span> <span class="nx">DropdownListItem</span> <span class="p">{</span>
  <span class="nl">getTitle</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">isSelected</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">boolean</span><span class="p">;</span>
  <span class="nl">setSelected</span><span class="p">:</span> <span class="p">(</span><span class="nx">isSelected</span><span class="p">:</span> <span class="nx">boolean</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">void</span><span class="p">;</span>
  <span class="nl">isSelectable</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">boolean</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nx">DropdownListItemCreation</span> <span class="k">implements</span> <span class="nx">DropdownListItem</span> <span class="p">{</span>
  <span class="k">private</span> <span class="k">readonly</span> <span class="nx">title</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>

  <span class="k">private</span> <span class="nx">selected</span><span class="p">:</span> <span class="nx">boolean</span><span class="p">;</span>

  <span class="k">private</span> <span class="k">readonly</span> <span class="nx">selectable</span><span class="p">:</span> <span class="nx">boolean</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>

  <span class="kd">constructor</span><span class="p">(</span><span class="nx">title</span><span class="p">:</span> <span class="kr">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">title</span> <span class="o">=</span> <span class="nx">title</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">selected</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">title</span><span class="p">)</span> <span class="k">this</span><span class="p">.</span><span class="nx">selectable</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">getTitle</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">title</span><span class="p">;</span>

  <span class="nx">isSelected</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">selected</span><span class="p">;</span>

  <span class="nx">setSelected</span> <span class="o">=</span> <span class="p">(</span><span class="nx">selected</span><span class="p">:</span> <span class="nx">boolean</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">selected</span> <span class="o">=</span> <span class="nx">selected</span><span class="p">;</span>
  <span class="p">};</span>

  <span class="nx">isSelectable</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">selectable</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">rawDataCountries</span> <span class="o">=</span> <span class="p">[</span><span class="dl">"</span><span class="s2">Korea</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Japan</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Singapore</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Australia</span><span class="dl">"</span><span class="p">];</span>

<span class="kd">const</span> <span class="nx">countryData</span> <span class="o">=</span> <span class="nx">rawDataCountries</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">it</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">new</span> <span class="nx">DropdownListItemCreation</span><span class="p">(</span><span class="nx">it</span><span class="p">));</span>

<span class="k">export</span> <span class="kd">type</span> <span class="p">{</span> <span class="nx">DropdownListItem</span> <span class="p">};</span>
<span class="k">export</span> <span class="p">{</span> <span class="nx">countryData</span> <span class="p">};</span>
</pre></td></tr></tbody></table></code></div></div>

<div class="language-ts highlighter-rouge"><div class="code-header">
        <span data-label-text="TypeScript"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre></td><td class="rouge-code"><pre><span class="c1">// ViewModel</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">useState</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">DropdownListItem</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@components/dropdown-list/model</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">ViewModelInterface</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@components/dropdown-list</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">DropdownListViewModel</span><span class="p">(</span><span class="nx">data</span><span class="p">:</span> <span class="nx">DropdownListItem</span><span class="p">[]):</span> <span class="nx">ViewModelInterface</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">isListOpen</span><span class="p">,</span> <span class="nx">setIsListOpen</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="o">&lt;</span><span class="nx">boolean</span><span class="o">&gt;</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">selectedOption</span><span class="p">,</span> <span class="nx">setSelectedOption</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="o">&lt;</span><span class="kr">string</span> <span class="o">|</span> <span class="kc">undefined</span><span class="o">&gt;</span><span class="p">(</span><span class="kc">undefined</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">dropdownList</span> <span class="o">=</span> <span class="nx">data</span><span class="p">;</span>

  <span class="kd">function</span> <span class="nx">handleListDisplay</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">setIsListOpen</span><span class="p">(</span><span class="o">!</span><span class="nx">isListOpen</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="kd">function</span> <span class="nx">handleSelectOption</span><span class="p">(</span><span class="nx">idx</span><span class="p">:</span> <span class="kr">number</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">setSelectedOption</span><span class="p">(</span><span class="nx">dropdownList</span><span class="p">[</span><span class="nx">idx</span><span class="p">].</span><span class="nx">getTitle</span><span class="p">());</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="p">{</span> <span class="nx">dropdownList</span><span class="p">,</span> <span class="nx">isListOpen</span><span class="p">,</span> <span class="nx">selectedOption</span><span class="p">,</span> <span class="nx">handleListDisplay</span><span class="p">,</span> <span class="nx">handleSelectOption</span> <span class="p">};</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">DropdownListViewModel</span><span class="p">;</span>
<span class="k">export</span> <span class="kd">type</span> <span class="p">{</span> <span class="nx">ViewModelInterface</span> <span class="p">};</span>
</pre></td></tr></tbody></table></code></div></div>

<p>피드백을 받았던 내용을 바탕으로 두 번째 리팩토링을 진행했습니다. 우선 해당 Model이 Country 데이터만 다루는 것처럼 보이지 않도록 이름에서 Country라는 단어를 제거하였습니다. 그리고 Country 리스트 데이터만 리턴하는 클래스를 삭제하고, 필요한 데이터는 변수에 바로 담아 <code class="language-plaintext highlighter-rouge">map</code> 함수로 요소들을 인스턴스화 시켜 배열에 담아 export 해주었습니다. 만약 Country 데이터가 아닌 Fruit 데이터가 사용된다면 Fruit 리스트 데이터를 담을 변수를 선언한 후, 같은 클래스로 인스턴스화 하여 재사용할 수 있겠죠?</p>

<p>ViewModel에서도 특정 데이터를 지칭하는 단어가 없어져 혼란을 방지하고 데이터와 상관없이 View와 Model을 이어주는 역할을 한다는 것이 더 잘 보여지게 되었습니다.</p>

<div class="language-tsx highlighter-rouge"><div class="code-header">
        <span data-label-text="Tsx"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
</pre></td><td class="rouge-code"><pre><span class="c1">// View</span>
<span class="c1">// ... Styled components 등 다른 import들</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">DropdownListItem</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@components/dropdown-list/model</span><span class="dl">"</span><span class="p">;</span>

<span class="kr">interface</span> <span class="nx">ViewModelInterface</span> <span class="p">{</span>
  <span class="nl">dropdownList</span><span class="p">:</span> <span class="nx">DropdownListItem</span><span class="p">[];</span>
  <span class="nl">isListOpen</span><span class="p">:</span> <span class="nx">boolean</span><span class="p">;</span>
  <span class="nl">selectedOption</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">handleListDisplay</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="k">void</span><span class="p">;</span>
  <span class="nl">handleSelectOption</span><span class="p">:</span> <span class="p">(</span><span class="nx">idx</span><span class="p">:</span> <span class="kr">number</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">void</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">DropdownListProps</span> <span class="p">{</span>
  <span class="nl">placeholder</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">viewModelProps</span><span class="p">:</span> <span class="nx">ViewModelInterface</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">DropdownList</span><span class="p">(</span><span class="nx">props</span><span class="p">:</span> <span class="nx">DropdownListProps</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">{</span> <span class="nx">placeholder</span><span class="p">,</span> <span class="nx">viewModelProps</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">props</span><span class="p">;</span>
  <span class="kd">const</span> <span class="p">{</span> <span class="nx">dropdownList</span><span class="p">,</span> <span class="nx">isListOpen</span><span class="p">,</span> <span class="nx">selectedOption</span><span class="p">,</span> <span class="nx">handleListDisplay</span><span class="p">,</span> <span class="nx">handleSelectOption</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">viewModelProps</span><span class="p">;</span>

  <span class="kd">const</span> <span class="nx">text</span> <span class="o">=</span> <span class="o">!</span><span class="nx">selectedOption</span> <span class="p">?</span> <span class="nx">placeholder</span> <span class="p">:</span> <span class="nx">selectedOption</span><span class="p">;</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nc">DropdownListContainer</span> <span class="na">onClick</span><span class="p">=</span><span class="si">{</span><span class="nx">handleListDisplay</span><span class="si">}</span><span class="p">&gt;</span>
      <span class="si">{</span><span class="nx">text</span><span class="si">}</span>
      <span class="si">{</span><span class="nx">isListOpen</span> <span class="p">?</span> <span class="p">(</span>
        <span class="p">&lt;</span><span class="nc">DropdownListOptionContainer</span><span class="p">&gt;</span>
          <span class="si">{</span><span class="nx">dropdownList</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">el</span><span class="p">,</span> <span class="nx">idx</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">(</span>
            <span class="p">&lt;</span><span class="nc">DropdownListOption</span> <span class="na">key</span><span class="p">=</span><span class="si">{</span><span class="nx">el</span><span class="p">.</span><span class="nx">getTitle</span><span class="p">()</span><span class="si">}</span> <span class="na">onClick</span><span class="p">=</span><span class="si">{</span><span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">handleSelectOption</span><span class="p">(</span><span class="nx">idx</span><span class="p">)</span><span class="si">}</span><span class="p">&gt;</span>
              <span class="si">{</span><span class="nx">el</span><span class="p">.</span><span class="nx">getTitle</span><span class="p">()</span><span class="si">}</span>
            <span class="p">&lt;/</span><span class="nc">DropdownListOption</span><span class="p">&gt;</span>
          <span class="p">))</span><span class="si">}</span>
        <span class="p">&lt;/</span><span class="nc">DropdownListOptionContainer</span><span class="p">&gt;</span>
      <span class="p">)</span> <span class="p">:</span> <span class="p">(</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="p">/&gt;</span>
      <span class="p">)</span><span class="si">}</span>
    <span class="p">&lt;/</span><span class="nc">DropdownListContainer</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">DropdownList</span><span class="p">;</span>
<span class="k">export</span> <span class="kd">type</span> <span class="p">{</span> <span class="nx">ViewModelInterface</span> <span class="p">};</span>
</pre></td></tr></tbody></table></code></div></div>

<p>View 또한 특정 데이터에 얽혀있는 컴포넌트가 아니어서, ViewModel로부터 받아온 데이터의 이름을 바꿔준 것 만으로도 여러곳에서 다양하게 사용하기 편해졌습니다.</p>

<p>그리고, View와 ViewModel을 연결할 때는 View 내부에서 ViewModel을 불러오는 것 보다 컴포넌트를 사용하는 곳에서 props를 통해 ViewModel을 넘겨주는 것이 테스트를 진행하기 용이하다고 알려주셔서 연결방법을 바꿔주었습니다.</p>

<div class="language-tsx highlighter-rouge"><div class="code-header">
        <span data-label-text="Tsx"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="p">&lt;</span><span class="nc">DropdownList</span> <span class="na">placeholder</span><span class="p">=</span><span class="si">{</span><span class="dl">"</span><span class="s2">선택해주세요</span><span class="dl">"</span><span class="si">}</span> <span class="na">viewModelProps</span><span class="p">=</span><span class="si">{</span><span class="nx">DropdownListViewModel</span><span class="p">(</span><span class="nx">countryData</span><span class="p">)</span><span class="si">}</span> <span class="p">/&gt;</span>
</pre></td></tr></tbody></table></code></div></div>

<p>컴포넌트를 사용할 때 이렇게 ViewModel에 데이터를 담은 후 props로 전달해주게 됩니다.</p>

<h3 id="3차-리팩토링"><span class="me-2">3차 리팩토링</span><a href="#3차-리팩토링" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-ts highlighter-rouge"><div class="code-header">
        <span data-label-text="TypeScript"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td><td class="rouge-code"><pre><span class="c1">// ViewModel</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">useState</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">DropdownListItem</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@components/dropdown-list/model</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">DropdownViewModelInterface</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@components/dropdown-list</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">DropdownListViewModel</span><span class="p">(</span><span class="nx">data</span><span class="p">:</span> <span class="nx">DropdownListItem</span><span class="p">[]):</span> <span class="nx">DropdownViewModelInterface</span> <span class="p">{</span>
  <span class="c1">// selectedOption 상태값의 경우 단순히 어떤 선택지가 골라졌는지 view에서 보여주기 위해 사용하는 것뿐만 아니라, form을 제출한다던지 하는 경우에 그 값을 넘겨주기 위해 사용될 가능성이 있다.</span>
  <span class="c1">// 그렇게 넘겨진 값은 다른 컴포넌트의 뷰를 조정하는 과정에서 쓰일 수 있다.</span>
  <span class="c1">// 따라서 이 상태값은 특정 뷰에서 관리되는 것이 아니라 뷰모델에서 관리한다.</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">selectedOption</span><span class="p">,</span> <span class="nx">setSelectedOption</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="nx">useState</span> <span class="o">&lt;</span> <span class="kr">string</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="kc">undefined</span> <span class="o">&gt;</span> <span class="kc">undefined</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">dropdownList</span> <span class="o">=</span> <span class="nx">data</span><span class="p">;</span>

  <span class="kd">function</span> <span class="nx">handleSelectOption</span><span class="p">(</span><span class="nx">idx</span><span class="p">:</span> <span class="kr">number</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">setSelectedOption</span><span class="p">(</span><span class="nx">dropdownList</span><span class="p">[</span><span class="nx">idx</span><span class="p">].</span><span class="nx">getTitle</span><span class="p">());</span>
    <span class="nx">dropdownList</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">it</span><span class="p">:</span> <span class="nx">DropdownListItem</span><span class="p">,</span> <span class="nx">index</span><span class="p">:</span> <span class="kr">number</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">it</span><span class="p">.</span><span class="nx">setSelected</span><span class="p">(</span><span class="nx">idx</span> <span class="o">===</span> <span class="nx">index</span><span class="p">));</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="p">{</span> <span class="nx">dropdownList</span><span class="p">,</span> <span class="nx">selectedOption</span><span class="p">,</span> <span class="nx">handleSelectOption</span> <span class="p">};</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">DropdownListViewModel</span><span class="p">;</span>
</pre></td></tr></tbody></table></code></div></div>

<div class="language-tsx highlighter-rouge"><div class="code-header">
        <span data-label-text="Tsx"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
</pre></td><td class="rouge-code"><pre><span class="c1">// View</span>
<span class="c1">// ... Styled components 등 다른 import들</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">DropdownListItem</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@components/dropdown-list/model</span><span class="dl">"</span><span class="p">;</span>

<span class="kr">interface</span> <span class="nx">DropdownViewModelInterface</span> <span class="p">{</span>
  <span class="nl">dropdownList</span><span class="p">:</span> <span class="nx">DropdownListItem</span><span class="p">[];</span>
  <span class="nl">selectedOption</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">handleSelectOption</span><span class="p">:</span> <span class="p">(</span><span class="nx">idx</span><span class="p">:</span> <span class="kr">number</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">void</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">DropdownListProps</span> <span class="p">{</span>
  <span class="nl">placeholder</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">viewModelProps</span><span class="p">:</span> <span class="nx">DropdownViewModelInterface</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">DropdownList</span><span class="p">(</span><span class="nx">props</span><span class="p">:</span> <span class="nx">DropdownListProps</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">isListOpen</span><span class="p">,</span> <span class="nx">setIsListOpen</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="o">&lt;</span><span class="nx">boolean</span><span class="o">&gt;</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
  <span class="kd">const</span> <span class="p">{</span> <span class="nx">placeholder</span><span class="p">,</span> <span class="nx">styleProps</span><span class="p">,</span> <span class="nx">viewModelProps</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">props</span><span class="p">;</span>
  <span class="kd">const</span> <span class="p">{</span> <span class="nx">dropdownList</span><span class="p">,</span> <span class="nx">selectedOption</span><span class="p">,</span> <span class="nx">handleSelectOption</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">viewModelProps</span><span class="p">;</span>

  <span class="kd">const</span> <span class="nx">text</span> <span class="o">=</span> <span class="o">!</span><span class="nx">selectedOption</span> <span class="p">?</span> <span class="nx">placeholder</span> <span class="p">:</span> <span class="nx">selectedOption</span><span class="p">;</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nc">DropdownListContainer</span> <span class="na">onClick</span><span class="p">=</span><span class="si">{</span><span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">setIsListOpen</span><span class="p">(</span><span class="o">!</span><span class="nx">isListOpen</span><span class="p">)</span><span class="si">}</span><span class="p">&gt;</span>
      <span class="si">{</span><span class="nx">text</span><span class="si">}</span>
      <span class="si">{</span><span class="nx">isListOpen</span> <span class="p">?</span> <span class="p">(</span>
        <span class="p">&lt;</span><span class="nc">DropdownListOptionContainer</span><span class="p">&gt;</span>
          <span class="si">{</span><span class="nx">dropdownList</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">el</span><span class="p">,</span> <span class="nx">idx</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">(</span>
            <span class="p">&lt;</span><span class="nc">DropdownListOption</span> <span class="na">key</span><span class="p">=</span><span class="si">{</span><span class="nx">el</span><span class="p">.</span><span class="nx">getTitle</span><span class="p">()</span><span class="si">}</span> <span class="na">onClick</span><span class="p">=</span><span class="si">{</span><span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">handleSelectOption</span><span class="p">(</span><span class="nx">idx</span><span class="p">)</span><span class="si">}</span><span class="p">&gt;</span>
              <span class="si">{</span><span class="nx">el</span><span class="p">.</span><span class="nx">getTitle</span><span class="p">()</span><span class="si">}</span>
            <span class="p">&lt;/</span><span class="nc">DropdownListOption</span><span class="p">&gt;</span>
          <span class="p">))</span><span class="si">}</span>
        <span class="p">&lt;/</span><span class="nc">DropdownListOptionContainer</span><span class="p">&gt;</span>
      <span class="p">)</span> <span class="p">:</span> <span class="p">(</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="p">/&gt;</span>
      <span class="p">)</span><span class="si">}</span>
    <span class="p">&lt;/</span><span class="nc">DropdownListContainer</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">DropdownList</span><span class="p">;</span>
<span class="k">export</span> <span class="kd">type</span> <span class="p">{</span> <span class="nx">DropdownViewModelInterface</span> <span class="p">};</span>
</pre></td></tr></tbody></table></code></div></div>

<p>ViewModel 안의 코드를 보다보니 UI 로직이 포함되어있는 것이 보였습니다. 리스트가 열렸는지 확인하는 로직은 View가 관리해야 할 영역이라고 생각되어 ViewModel에 있던 코드를 View로 옮겨주었습니다. 이를 통해 UI 로직은 오롯이 View에서 관리하게 되었고, 불필요하게 ViewModel을 거쳐 화면을 바꾸는 코드가 삭제되어 간결해졌습니다.</p>

<h2 id="마치며"><span class="me-2">마치며</span><a href="#마치며" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>몇 단계를 거쳐 완벽하지는 않지만 <code class="language-plaintext highlighter-rouge">Model</code>-<code class="language-plaintext highlighter-rouge">View</code>-<code class="language-plaintext highlighter-rouge">ViewModel</code>의 역할이 구분된 코드가 만들어졌습니다. MVVM 패턴을 적용하면서 가장 어려웠던 점은 ViewModel의 역할을 찾는 것이었습니다. 이전에는 데이터를 UI에 바로 적용했기 때문에 ViewModel이라는 것을 한번도 사용해보지 않았기 때문인 것 같습니다. 하지만 이렇게 코드를 나누고 보니 디자인이 다른 새로운 드롭다운 리스트 컴포넌트를 만들게 되더라도 미리 만들어놓은 ViewModel과 Model을 쉽게 재사용하면 되겠다는 생각이 들었습니다. 그리고 중복되는 코드가 줄어들면서 유지보수도 훨씬 쉬워질 것 같습니다. 저는 이 경험을 시작으로, 복잡한 로직을 더 쉽게 다룰수 있는 방법을 계속 고민하고 공부해보아야겠습니다. 😊</p>

  </div>

  <div class="post-tail-wrapper text-muted">
    <!-- categories -->
    
      <div class="post-meta mb-3">
        <i class="far fa-folder-open fa-fw me-1"></i>
        
          <a href="/categories/typescript/">typescript</a>,
          <a href="/categories/react/">react</a>,
          <a href="/categories/frontend/">frontend</a>
      </div>
    

    <!-- tags -->
    
      <div class="post-tags">
        <i class="fa fa-tags fa-fw me-1"></i>
        
          <a
            href="/tags/design-pattern/"
            class="post-tag no-text-decoration"
          >design-pattern</a>
        
          <a
            href="/tags/mvvm/"
            class="post-tag no-text-decoration"
          >mvvm</a>
        
      </div>
    

    <div
      class="
        post-tail-bottom
        d-flex justify-content-between align-items-center mt-5 pb-2
      "
    >
      <div class="license-wrapper">
        
          

          This post is licensed under 
        <a href="https://creativecommons.org/licenses/by/4.0/">
          CC BY 4.0
        </a>
         by the author.
        
      </div>

      <!-- Post sharing snippet -->

<div class="share-wrapper d-flex align-items-center">
  <span class="share-label text-muted">Share</span>
  <span class="share-icons">
    
    
    

    

      

      <a href="https://twitter.com/intent/tweet?text=%EC%8B%A0%EC%9E%85%20%ED%94%84%EB%A1%A0%ED%8A%B8%EC%97%94%EB%93%9C%20%EA%B0%9C%EB%B0%9C%EC%9E%90%EC%9D%98%20MVVM%20%ED%8C%A8%ED%84%B4%20%EC%A0%81%EC%9A%A9%EA%B8%B0%20-%20BY%20Soft%20Tech%20Insights&url=https%3A%2F%2Fblog.by-softcorp.com%2Fposts%2Fapply-mvvm-design%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter">
        <i class="fa-fw fa-brands fa-square-x-twitter"></i>
      </a>
    

      

      <a href="https://www.facebook.com/sharer/sharer.php?title=%EC%8B%A0%EC%9E%85%20%ED%94%84%EB%A1%A0%ED%8A%B8%EC%97%94%EB%93%9C%20%EA%B0%9C%EB%B0%9C%EC%9E%90%EC%9D%98%20MVVM%20%ED%8C%A8%ED%84%B4%20%EC%A0%81%EC%9A%A9%EA%B8%B0%20-%20BY%20Soft%20Tech%20Insights&u=https%3A%2F%2Fblog.by-softcorp.com%2Fposts%2Fapply-mvvm-design%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook">
        <i class="fa-fw fab fa-facebook-square"></i>
      </a>
    

      

      <a href="https://t.me/share/url?url=https%3A%2F%2Fblog.by-softcorp.com%2Fposts%2Fapply-mvvm-design%2F&text=%EC%8B%A0%EC%9E%85%20%ED%94%84%EB%A1%A0%ED%8A%B8%EC%97%94%EB%93%9C%20%EA%B0%9C%EB%B0%9C%EC%9E%90%EC%9D%98%20MVVM%20%ED%8C%A8%ED%84%B4%20%EC%A0%81%EC%9A%A9%EA%B8%B0%20-%20BY%20Soft%20Tech%20Insights" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram">
        <i class="fa-fw fab fa-telegram"></i>
      </a>
    

    <button
      id="copy-link"
      aria-label="Copy link"
      class="btn small"
      data-bs-toggle="tooltip"
      data-bs-placement="top"
      title="Copy link"
      data-title-succeed="Link copied successfully!"
    >
      <i class="fa-fw fas fa-link pe-none fs-6"></i>
    </button>
  </span>
</div>

    </div>
    <!-- .post-tail-bottom -->
  </div>
  <!-- div.post-tail-wrapper -->
</article>


            
          </main>

          <!-- panel -->
          <aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 mb-5 text-muted">
            <div class="access">
              <!-- Get 5 last posted/updated posts -->














  <section id="access-lastmod">
    <h2 class="panel-heading">Recently Updated</h2>
    <ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2">
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/apply-mvvm-design/">신입 프론트엔드 개발자의 MVVM 패턴 적용기</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/fast-api-db-test/">FastAPI와 SQLAlchemy 환경에서 Database Test</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/annotated-enum/">Python 열거형과 SQLAlchemy</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/fast-api-validator/">FastAPI 유효성 검사</a>
        </li>
      
    </ul>
  </section>
  <!-- #access-lastmod -->


              <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/fastapi/">fastapi</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/sqlalchemy/">sqlalchemy</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/design-pattern/">design-pattern</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/enum/">enum</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/mvvm/">mvvm</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/pydantic/">pydantic</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/unittest/">unittest</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/validate/">validate</a>
      
    </div>
  </section>


            </div>

            
              
              



  <section id="toc-wrapper" class="ps-0 pe-4">
    <h2 class="panel-heading ps-3 pt-2 mb-2">Contents</h2>
    <nav id="toc"></nav>
  </section>


            
          </aside>
        </div>

        <div class="row">
          <!-- tail -->
          <div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              
              <!-- Recommend the other 3 posts according to the tags and categories of the current post. -->

<!-- The total size of related posts -->


<!-- An random integer that bigger than 0 -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy} -->














  

  
    











            
              
              <!-- Navigation buttons at the bottom of the post. -->

<nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation">
  
  

  
    <a
      href="/posts/fast-api-db-test/"
      class="btn btn-outline-primary"
      aria-label="Older"
    >
      <p>FastAPI와 SQLAlchemy 환경에서 Database Test</p>
    </a>
  

  
    <div class="btn btn-outline-primary disabled" aria-label="Newer">
      <p>-</p>
    </div>
  
</nav>

            
              
              <!--  The comments switcher -->


            

            <!-- The Footer -->

<footer
  aria-label="Site Info"
  class="
    d-flex flex-column justify-content-center text-muted
    flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3
  "
>
  <p>
    ©
    <time>2024</time>
    <a href="https://github.com/BY-SoftCorp">BY-Soft</a>.
    
      <span
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author."
      >Some rights reserved.</span>
    
  </p>

  <p>
  </p>
</footer>

          </div>
        </div>

        <!-- The Search results -->

<div id="search-result-wrapper" class="d-flex justify-content-center unloaded">
  <div class="col-11 content">
    <div id="search-hints">
      <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/fastapi/">fastapi</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/sqlalchemy/">sqlalchemy</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/design-pattern/">design-pattern</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/enum/">enum</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/mvvm/">mvvm</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/pydantic/">pydantic</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/unittest/">unittest</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/validate/">validate</a>
      
    </div>
  </section>


    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>

      </div>

      <aside aria-label="Scroll to Top">
        <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow">
          <i class="fas fa-angle-up"></i>
        </button>
      </aside>
    </div>

    <div id="mask"></div>

    
      <aside
  id="notification"
  class="toast"
  role="alert"
  aria-live="assertive"
  aria-atomic="true"
  data-bs-animation="true"
  data-bs-autohide="false"
>
  <div class="toast-header">
    <button
      type="button"
      class="btn-close ms-auto"
      data-bs-dismiss="toast"
      aria-label="Close"
    ></button>
  </div>
  <div class="toast-body text-center pt-0">
    <p class="px-2 mb-3">A new version of content is available.</p>
    <button type="button" class="btn btn-primary" aria-label="Update">
      Update
    </button>
  </div>
</aside>

    

    <!-- JavaScripts -->

    <!-- JS selector for site. -->

<!-- commons -->



<!-- layout specified -->


  

  
    <!-- image lazy-loading & popup & clipboard -->
    
  















  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  



  <script src="https://cdn.jsdelivr.net/combine/npm/jquery@3.7.1/dist/jquery.min.js,npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js,npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.10/dayjs.min.js,npm/dayjs@1.11.10/locale/en.min.js,npm/dayjs@1.11.10/plugin/relativeTime.min.js,npm/dayjs@1.11.10/plugin/localizedFormat.min.js,npm/tocbot@4.25.0/dist/tocbot.min.js"></script>






<script defer src="/assets/js/dist/post.min.js"></script>






    

    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script>
  /* Note: dependent library will be loaded in `js-selector.html` */
  SimpleJekyllSearch({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('search-results'),
    json: '/assets/js/data/search.json',
    searchResultTemplate: '  <article class="px-1 px-sm-2 px-lg-4 px-xl-0">    <header>      <h2><a href="{url}">{title}</a></h2>      <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">        {categories}        {tags}      </div>    </header>    <p>{snippet}</p>  </article>',
    noResultsText: '<p class="mt-5"></p>',
    templateMiddleware: function(prop, value, template) {
      if (prop === 'categories') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
        }
      }

      if (prop === 'tags') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
        }
      }
    }
  });
</script>

  </body>
</html>

