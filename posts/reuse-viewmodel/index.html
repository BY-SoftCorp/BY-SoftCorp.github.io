<!doctype html>














<!-- `site.alt_lang` can specify a language different from the UI -->
<html lang="en" >
  <head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta
    name="viewport"
    content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover"
  ><!-- Setup Open Graph image -->

  

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.2.2" />
<meta property="og:title" content="공통 기능을 가진 ViewModel 만들어 재사용하기" />
<meta name="author" content="한 재연" />
<meta property="og:locale" content="ko_KR" />
<meta name="description" content="이전 블로그 글에서 MVVM 패턴을 적용했던 과정에 대해 남겨보았습니다. 그 이후로도 저는 여러가지 ViewModel과 Model을 구현해보았는데요, 매일 마주하는 코드인데도 불구하고 고쳐야 할 점이 매번 새롭게 보이고 있습니다. 쉽지 않은 내용인 만큼 아직도 MVVM 패턴에 익숙해지는 중인 것 같습니다. 최근 한달동안 가장 많이 고민 했던 내용이 MVVM이었던 터라 이번 글도 MVVM과 관련된 내용이지만, 오늘은 저번보다 조금! 더 발전한 내용을 가지고 와보았습니다. 처음 MVVM 패턴을 적용하면서는 “이렇게 작성하면 이런저런 부분에서 재사용이 가능하겠구나!” 하는 대략적인 생각을 했고, 몇가지의 ViewModel과 Model을 더 만들어보며 비슷하게 생긴 컴포넌트들에 ViewModel을 재사용 해보기도 했습니다. 모양새가 유사한 컴포넌트들은 서로 다른 모듈이어도 ViewModel을 재사용하기가 어렵지 않았습니다. 생긴것이 비슷하니 비교적 추상화가 쉬웠기 때문입니다. 하지만 이번에 제가 가져온 컴포넌트는 조금 다르게 생긴 이 두 친구들입니다. 첫번째 컴포넌트는 메뉴 컴포넌트, 두번째 컴포넌트는 네비게이션 컴포넌트 입니다. MVVM 패턴에 익숙하신 분들은 어떻게 생각하실지 모르겠지만, 저는 이 두 컴포넌트를 처음 봤을때 “모양이 다르게 생겼는데 어떻게 ViewModel을 재사용하지?”라는 생각을 했습니다. 하지만 ViewModel의 역할을 다시 잘 생각해보면, UI를 보여주는 일을 하는 것도 아니고 특정 데이터를 가져오는 일을 하지도 않습니다. 단순히 어떤 데이터를 어떠한 형태로 전달해주기만 합니다. 즉, 모양이 다르고, 사용하는 데이터가 달라도, 그 기능이 비슷하면 ViewModel은 재사용될 수 있습니다. 이제 두 컴포넌트의 겉모습은 잊어야 합니다. 그래야 추상화가 쉬워지니까요. 우선, 두 컴포넌트가 어떤 기능을 동일하게 수행하는지 생각해봅니다. 둘 다 어떤 선택지를 클릭했을 때, 해당 선택지에 해당하는 결과물을 내려주는 기능을 합니다. 기능에 집중해보니 이 두 컴포넌트는 같은 기능을 하고 있다는 것을 알게 되었습니다. 이제 이 기능들을 포함하고 있는 ViewModel을 작성해볼까요? 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 function OptionSelectViewModel(data: OptionListType): OptionSelectVM { const [selectedOption, setSelectedOption] = useState(&#39;&#39;) // 어떤 메뉴가 클릭되었는지 기록하는 함수 function handleSelectMenu(option: string) { setSelectedMenu(option) } // 클릭된 메뉴에 따라 알맞은 결과물을 리턴해주는 함수 function getResult() { return ( data.getList().filter((it) =&gt; it.getTitle() === selectedOption) ?? [] ) } // 전체 메뉴를 선택했을 때 전체보기로 메뉴 리셋을 해주는 함수 function handleResetOptions(section?: string) { setSelectedOption(&#39;&#39;) } return { handleSelectMenu, getResult, handleResetOptions, } } 두 컴포넌트의 공통된 기능들을 포함한 ViewModel이 만들어졌습니다. 이제 이 ViewModel에 전달해줄 Model도 작성해봅시다. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 class OptionItem implements OptionItemType { private readonly title: string constructor(raw: string) { this.title = raw.category } getTitle = () =&gt; this.title } class OptionList implements OptionListType { private readonly list: OptionItemType[] constructor(raw: OptionItemType[]) { this.list = raw } getList = () =&gt; this.list } // 이렇게 구현해버리면 OptionListType 인터페이스를 구현할 수 없어 ViewModel이 인자로 받지 못하게 됨. class OptionMenu { private readonly list: OptionMenuCategoryType[] constructor(raw: OptionMenuCategoryType[]) { this.list = raw } getList = () =&gt; this.list } 그런데 여기서 한가지 문제가 생겼습니다. 위에 작성한 Model은 네비게이션 컴포넌트에 사용되는 데이터 모델에만 적용되고 메뉴 컴포넌트에 사용되는 데이터 모델에는 적용되지 않습니다. 네비게이션 컴포넌트는 메뉴를 선택하면 해당 메뉴의 title만 리턴해주면 되는데, 메뉴 컴포넌트는 해당 메뉴의 하위 카테고리 리스트를 내려주어야 하기 때문입니다. ViewModel은 OptionListType 타입만 인자로 받는데, 메뉴 컴포넌트용 데이터 모델을 인자로 받는 ViewModel을 새로 만들어야한다면 기존의 ViewModel을 재사용할 수 없게 됩니다. 어떻게 할까 방법을 고민하다가, 클래스는 인터페이스를 다중 구현할 수 있다는 점을 이용해보기로 했습니다. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 class OptionItem implements OptionItemType { private readonly title: string constructor(raw: string) { this.title = raw.name } getTitle = () =&gt; this.title } class OptionList implements OptionListType, OptionItemType { private readonly list: OptionItemType[] constructor(raw: OptionItemType[]) { this.list = raw } getList = () =&gt; this.list // 타입을 맞추기 위해 임의의 값을 넣어줌 getTitle = () =&gt; String(this.list) } class OptionMenu implements OptionListType { private readonly list: OptionItemType[] constructor(raw: OptionItemType[]) { this.list = raw } getList = () =&gt; this.list } OptionList를 OptionItemType 인터페이스에 맞추기 위해 메서드를 끼워맞추는 과정이 필요했지만, 무사히 두개의 인터페이스를 구현했습니다. 이제 돌려주는 값의 데이터 타입이 달라 OptionList에 들어갈 수 없었던 메뉴 컴포넌트의 데이터가 OptionMenu를 통해 ViewModel에 사용되어질 수 있게 되었습니다. 네비게이션 컴포넌트는 기존의 OptionList와 OptionMenu 둘 다 사용가능합니다. 1 2 3 4 5 6 7 8 9 10 const navPreData = NavTitleList.map((it) =&gt; new OptionItem(it)) const navData = new OptionList(navPreData) return ( &lt;Nav data={OptionSelectViewModel(navData)} /&gt; ) 1 2 3 4 5 6 7 8 9 10 const menuPreData = MenuCategoryList.map((it) =&gt; new OptionList(it)) const menuData = new OptionMenu(menuPreData) return ( &lt;Menu data={OptionSelectViewModel(menuData)} /&gt; ) 이제 이렇게 ViewModel을 두개의 View에 재사용할 수 있습니다. 참고로 아래의 컴포넌트도 같은 ViewModel을 사용할 수 있답니다. 기능이 비슷하다는 생각이 드시나요? 마치며 어려운 과정은 아니었지만, 보이는 것에서 멀어지고 기능에 집중한 추상화를 진행했다는 점에서 한단계 성장했다는 생각을 하게 된 시간이었습니다. 또, 개인적인 성장 뿐만 아니라 코드적인 측면에서도 중복코드를 줄이고, 유닛 테스트를 진행하기에도 더욱 용이한 발전된 코드가 되었습니다. ViewModel은 비즈니스 로직을 UI에서 분리하고, 더욱 작은 조각으로 만들어주어 ‘단위’별로 테스트가 가능하게 해주는 장점을 가지는데, 이 ViewModel을 재사용하게 되면 테스트를 진행해야 하는 모듈의 수가 적어지기 때문에 단위 테스트를 진행하기가 더욱 편해집니다. 다음에는 ViewModel과 Model로 진행한 단위 테스트에 대해서도 글을 남겨보면 좋을 것 같습니다. 다음 글에서 만나뵙겠습니다 안녕 🤗" />
<meta property="og:description" content="이전 블로그 글에서 MVVM 패턴을 적용했던 과정에 대해 남겨보았습니다. 그 이후로도 저는 여러가지 ViewModel과 Model을 구현해보았는데요, 매일 마주하는 코드인데도 불구하고 고쳐야 할 점이 매번 새롭게 보이고 있습니다. 쉽지 않은 내용인 만큼 아직도 MVVM 패턴에 익숙해지는 중인 것 같습니다. 최근 한달동안 가장 많이 고민 했던 내용이 MVVM이었던 터라 이번 글도 MVVM과 관련된 내용이지만, 오늘은 저번보다 조금! 더 발전한 내용을 가지고 와보았습니다. 처음 MVVM 패턴을 적용하면서는 “이렇게 작성하면 이런저런 부분에서 재사용이 가능하겠구나!” 하는 대략적인 생각을 했고, 몇가지의 ViewModel과 Model을 더 만들어보며 비슷하게 생긴 컴포넌트들에 ViewModel을 재사용 해보기도 했습니다. 모양새가 유사한 컴포넌트들은 서로 다른 모듈이어도 ViewModel을 재사용하기가 어렵지 않았습니다. 생긴것이 비슷하니 비교적 추상화가 쉬웠기 때문입니다. 하지만 이번에 제가 가져온 컴포넌트는 조금 다르게 생긴 이 두 친구들입니다. 첫번째 컴포넌트는 메뉴 컴포넌트, 두번째 컴포넌트는 네비게이션 컴포넌트 입니다. MVVM 패턴에 익숙하신 분들은 어떻게 생각하실지 모르겠지만, 저는 이 두 컴포넌트를 처음 봤을때 “모양이 다르게 생겼는데 어떻게 ViewModel을 재사용하지?”라는 생각을 했습니다. 하지만 ViewModel의 역할을 다시 잘 생각해보면, UI를 보여주는 일을 하는 것도 아니고 특정 데이터를 가져오는 일을 하지도 않습니다. 단순히 어떤 데이터를 어떠한 형태로 전달해주기만 합니다. 즉, 모양이 다르고, 사용하는 데이터가 달라도, 그 기능이 비슷하면 ViewModel은 재사용될 수 있습니다. 이제 두 컴포넌트의 겉모습은 잊어야 합니다. 그래야 추상화가 쉬워지니까요. 우선, 두 컴포넌트가 어떤 기능을 동일하게 수행하는지 생각해봅니다. 둘 다 어떤 선택지를 클릭했을 때, 해당 선택지에 해당하는 결과물을 내려주는 기능을 합니다. 기능에 집중해보니 이 두 컴포넌트는 같은 기능을 하고 있다는 것을 알게 되었습니다. 이제 이 기능들을 포함하고 있는 ViewModel을 작성해볼까요? 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 function OptionSelectViewModel(data: OptionListType): OptionSelectVM { const [selectedOption, setSelectedOption] = useState(&#39;&#39;) // 어떤 메뉴가 클릭되었는지 기록하는 함수 function handleSelectMenu(option: string) { setSelectedMenu(option) } // 클릭된 메뉴에 따라 알맞은 결과물을 리턴해주는 함수 function getResult() { return ( data.getList().filter((it) =&gt; it.getTitle() === selectedOption) ?? [] ) } // 전체 메뉴를 선택했을 때 전체보기로 메뉴 리셋을 해주는 함수 function handleResetOptions(section?: string) { setSelectedOption(&#39;&#39;) } return { handleSelectMenu, getResult, handleResetOptions, } } 두 컴포넌트의 공통된 기능들을 포함한 ViewModel이 만들어졌습니다. 이제 이 ViewModel에 전달해줄 Model도 작성해봅시다. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 class OptionItem implements OptionItemType { private readonly title: string constructor(raw: string) { this.title = raw.category } getTitle = () =&gt; this.title } class OptionList implements OptionListType { private readonly list: OptionItemType[] constructor(raw: OptionItemType[]) { this.list = raw } getList = () =&gt; this.list } // 이렇게 구현해버리면 OptionListType 인터페이스를 구현할 수 없어 ViewModel이 인자로 받지 못하게 됨. class OptionMenu { private readonly list: OptionMenuCategoryType[] constructor(raw: OptionMenuCategoryType[]) { this.list = raw } getList = () =&gt; this.list } 그런데 여기서 한가지 문제가 생겼습니다. 위에 작성한 Model은 네비게이션 컴포넌트에 사용되는 데이터 모델에만 적용되고 메뉴 컴포넌트에 사용되는 데이터 모델에는 적용되지 않습니다. 네비게이션 컴포넌트는 메뉴를 선택하면 해당 메뉴의 title만 리턴해주면 되는데, 메뉴 컴포넌트는 해당 메뉴의 하위 카테고리 리스트를 내려주어야 하기 때문입니다. ViewModel은 OptionListType 타입만 인자로 받는데, 메뉴 컴포넌트용 데이터 모델을 인자로 받는 ViewModel을 새로 만들어야한다면 기존의 ViewModel을 재사용할 수 없게 됩니다. 어떻게 할까 방법을 고민하다가, 클래스는 인터페이스를 다중 구현할 수 있다는 점을 이용해보기로 했습니다. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 class OptionItem implements OptionItemType { private readonly title: string constructor(raw: string) { this.title = raw.name } getTitle = () =&gt; this.title } class OptionList implements OptionListType, OptionItemType { private readonly list: OptionItemType[] constructor(raw: OptionItemType[]) { this.list = raw } getList = () =&gt; this.list // 타입을 맞추기 위해 임의의 값을 넣어줌 getTitle = () =&gt; String(this.list) } class OptionMenu implements OptionListType { private readonly list: OptionItemType[] constructor(raw: OptionItemType[]) { this.list = raw } getList = () =&gt; this.list } OptionList를 OptionItemType 인터페이스에 맞추기 위해 메서드를 끼워맞추는 과정이 필요했지만, 무사히 두개의 인터페이스를 구현했습니다. 이제 돌려주는 값의 데이터 타입이 달라 OptionList에 들어갈 수 없었던 메뉴 컴포넌트의 데이터가 OptionMenu를 통해 ViewModel에 사용되어질 수 있게 되었습니다. 네비게이션 컴포넌트는 기존의 OptionList와 OptionMenu 둘 다 사용가능합니다. 1 2 3 4 5 6 7 8 9 10 const navPreData = NavTitleList.map((it) =&gt; new OptionItem(it)) const navData = new OptionList(navPreData) return ( &lt;Nav data={OptionSelectViewModel(navData)} /&gt; ) 1 2 3 4 5 6 7 8 9 10 const menuPreData = MenuCategoryList.map((it) =&gt; new OptionList(it)) const menuData = new OptionMenu(menuPreData) return ( &lt;Menu data={OptionSelectViewModel(menuData)} /&gt; ) 이제 이렇게 ViewModel을 두개의 View에 재사용할 수 있습니다. 참고로 아래의 컴포넌트도 같은 ViewModel을 사용할 수 있답니다. 기능이 비슷하다는 생각이 드시나요? 마치며 어려운 과정은 아니었지만, 보이는 것에서 멀어지고 기능에 집중한 추상화를 진행했다는 점에서 한단계 성장했다는 생각을 하게 된 시간이었습니다. 또, 개인적인 성장 뿐만 아니라 코드적인 측면에서도 중복코드를 줄이고, 유닛 테스트를 진행하기에도 더욱 용이한 발전된 코드가 되었습니다. ViewModel은 비즈니스 로직을 UI에서 분리하고, 더욱 작은 조각으로 만들어주어 ‘단위’별로 테스트가 가능하게 해주는 장점을 가지는데, 이 ViewModel을 재사용하게 되면 테스트를 진행해야 하는 모듈의 수가 적어지기 때문에 단위 테스트를 진행하기가 더욱 편해집니다. 다음에는 ViewModel과 Model로 진행한 단위 테스트에 대해서도 글을 남겨보면 좋을 것 같습니다. 다음 글에서 만나뵙겠습니다 안녕 🤗" />
<link rel="canonical" href="https://blog.by-softcorp.com/posts/reuse-viewmodel/" />
<meta property="og:url" content="https://blog.by-softcorp.com/posts/reuse-viewmodel/" />
<meta property="og:site_name" content="BY Soft Tech Insights" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-04-26T10:16:00+09:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="공통 기능을 가진 ViewModel 만들어 재사용하기" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"한 재연"},"dateModified":"2024-04-26T10:16:00+09:00","datePublished":"2024-04-26T10:16:00+09:00","description":"이전 블로그 글에서 MVVM 패턴을 적용했던 과정에 대해 남겨보았습니다. 그 이후로도 저는 여러가지 ViewModel과 Model을 구현해보았는데요, 매일 마주하는 코드인데도 불구하고 고쳐야 할 점이 매번 새롭게 보이고 있습니다. 쉽지 않은 내용인 만큼 아직도 MVVM 패턴에 익숙해지는 중인 것 같습니다. 최근 한달동안 가장 많이 고민 했던 내용이 MVVM이었던 터라 이번 글도 MVVM과 관련된 내용이지만, 오늘은 저번보다 조금! 더 발전한 내용을 가지고 와보았습니다. 처음 MVVM 패턴을 적용하면서는 “이렇게 작성하면 이런저런 부분에서 재사용이 가능하겠구나!” 하는 대략적인 생각을 했고, 몇가지의 ViewModel과 Model을 더 만들어보며 비슷하게 생긴 컴포넌트들에 ViewModel을 재사용 해보기도 했습니다. 모양새가 유사한 컴포넌트들은 서로 다른 모듈이어도 ViewModel을 재사용하기가 어렵지 않았습니다. 생긴것이 비슷하니 비교적 추상화가 쉬웠기 때문입니다. 하지만 이번에 제가 가져온 컴포넌트는 조금 다르게 생긴 이 두 친구들입니다. 첫번째 컴포넌트는 메뉴 컴포넌트, 두번째 컴포넌트는 네비게이션 컴포넌트 입니다. MVVM 패턴에 익숙하신 분들은 어떻게 생각하실지 모르겠지만, 저는 이 두 컴포넌트를 처음 봤을때 “모양이 다르게 생겼는데 어떻게 ViewModel을 재사용하지?”라는 생각을 했습니다. 하지만 ViewModel의 역할을 다시 잘 생각해보면, UI를 보여주는 일을 하는 것도 아니고 특정 데이터를 가져오는 일을 하지도 않습니다. 단순히 어떤 데이터를 어떠한 형태로 전달해주기만 합니다. 즉, 모양이 다르고, 사용하는 데이터가 달라도, 그 기능이 비슷하면 ViewModel은 재사용될 수 있습니다. 이제 두 컴포넌트의 겉모습은 잊어야 합니다. 그래야 추상화가 쉬워지니까요. 우선, 두 컴포넌트가 어떤 기능을 동일하게 수행하는지 생각해봅니다. 둘 다 어떤 선택지를 클릭했을 때, 해당 선택지에 해당하는 결과물을 내려주는 기능을 합니다. 기능에 집중해보니 이 두 컴포넌트는 같은 기능을 하고 있다는 것을 알게 되었습니다. 이제 이 기능들을 포함하고 있는 ViewModel을 작성해볼까요? 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 function OptionSelectViewModel(data: OptionListType): OptionSelectVM { const [selectedOption, setSelectedOption] = useState(&#39;&#39;) // 어떤 메뉴가 클릭되었는지 기록하는 함수 function handleSelectMenu(option: string) { setSelectedMenu(option) } // 클릭된 메뉴에 따라 알맞은 결과물을 리턴해주는 함수 function getResult() { return ( data.getList().filter((it) =&gt; it.getTitle() === selectedOption) ?? [] ) } // 전체 메뉴를 선택했을 때 전체보기로 메뉴 리셋을 해주는 함수 function handleResetOptions(section?: string) { setSelectedOption(&#39;&#39;) } return { handleSelectMenu, getResult, handleResetOptions, } } 두 컴포넌트의 공통된 기능들을 포함한 ViewModel이 만들어졌습니다. 이제 이 ViewModel에 전달해줄 Model도 작성해봅시다. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 class OptionItem implements OptionItemType { private readonly title: string constructor(raw: string) { this.title = raw.category } getTitle = () =&gt; this.title } class OptionList implements OptionListType { private readonly list: OptionItemType[] constructor(raw: OptionItemType[]) { this.list = raw } getList = () =&gt; this.list } // 이렇게 구현해버리면 OptionListType 인터페이스를 구현할 수 없어 ViewModel이 인자로 받지 못하게 됨. class OptionMenu { private readonly list: OptionMenuCategoryType[] constructor(raw: OptionMenuCategoryType[]) { this.list = raw } getList = () =&gt; this.list } 그런데 여기서 한가지 문제가 생겼습니다. 위에 작성한 Model은 네비게이션 컴포넌트에 사용되는 데이터 모델에만 적용되고 메뉴 컴포넌트에 사용되는 데이터 모델에는 적용되지 않습니다. 네비게이션 컴포넌트는 메뉴를 선택하면 해당 메뉴의 title만 리턴해주면 되는데, 메뉴 컴포넌트는 해당 메뉴의 하위 카테고리 리스트를 내려주어야 하기 때문입니다. ViewModel은 OptionListType 타입만 인자로 받는데, 메뉴 컴포넌트용 데이터 모델을 인자로 받는 ViewModel을 새로 만들어야한다면 기존의 ViewModel을 재사용할 수 없게 됩니다. 어떻게 할까 방법을 고민하다가, 클래스는 인터페이스를 다중 구현할 수 있다는 점을 이용해보기로 했습니다. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 class OptionItem implements OptionItemType { private readonly title: string constructor(raw: string) { this.title = raw.name } getTitle = () =&gt; this.title } class OptionList implements OptionListType, OptionItemType { private readonly list: OptionItemType[] constructor(raw: OptionItemType[]) { this.list = raw } getList = () =&gt; this.list // 타입을 맞추기 위해 임의의 값을 넣어줌 getTitle = () =&gt; String(this.list) } class OptionMenu implements OptionListType { private readonly list: OptionItemType[] constructor(raw: OptionItemType[]) { this.list = raw } getList = () =&gt; this.list } OptionList를 OptionItemType 인터페이스에 맞추기 위해 메서드를 끼워맞추는 과정이 필요했지만, 무사히 두개의 인터페이스를 구현했습니다. 이제 돌려주는 값의 데이터 타입이 달라 OptionList에 들어갈 수 없었던 메뉴 컴포넌트의 데이터가 OptionMenu를 통해 ViewModel에 사용되어질 수 있게 되었습니다. 네비게이션 컴포넌트는 기존의 OptionList와 OptionMenu 둘 다 사용가능합니다. 1 2 3 4 5 6 7 8 9 10 const navPreData = NavTitleList.map((it) =&gt; new OptionItem(it)) const navData = new OptionList(navPreData) return ( &lt;Nav data={OptionSelectViewModel(navData)} /&gt; ) 1 2 3 4 5 6 7 8 9 10 const menuPreData = MenuCategoryList.map((it) =&gt; new OptionList(it)) const menuData = new OptionMenu(menuPreData) return ( &lt;Menu data={OptionSelectViewModel(menuData)} /&gt; ) 이제 이렇게 ViewModel을 두개의 View에 재사용할 수 있습니다. 참고로 아래의 컴포넌트도 같은 ViewModel을 사용할 수 있답니다. 기능이 비슷하다는 생각이 드시나요? 마치며 어려운 과정은 아니었지만, 보이는 것에서 멀어지고 기능에 집중한 추상화를 진행했다는 점에서 한단계 성장했다는 생각을 하게 된 시간이었습니다. 또, 개인적인 성장 뿐만 아니라 코드적인 측면에서도 중복코드를 줄이고, 유닛 테스트를 진행하기에도 더욱 용이한 발전된 코드가 되었습니다. ViewModel은 비즈니스 로직을 UI에서 분리하고, 더욱 작은 조각으로 만들어주어 ‘단위’별로 테스트가 가능하게 해주는 장점을 가지는데, 이 ViewModel을 재사용하게 되면 테스트를 진행해야 하는 모듈의 수가 적어지기 때문에 단위 테스트를 진행하기가 더욱 편해집니다. 다음에는 ViewModel과 Model로 진행한 단위 테스트에 대해서도 글을 남겨보면 좋을 것 같습니다. 다음 글에서 만나뵙겠습니다 안녕 🤗","headline":"공통 기능을 가진 ViewModel 만들어 재사용하기","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.by-softcorp.com/posts/reuse-viewmodel/"},"url":"https://blog.by-softcorp.com/posts/reuse-viewmodel/"}</script>
<!-- End Jekyll SEO tag -->


  <title>공통 기능을 가진 ViewModel 만들어 재사용하기 | BY Soft Tech Insights
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">
<link rel="manifest" href="/assets/img/favicons/site.webmanifest">
<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="BY Soft Tech Insights">
<meta name="application-name" content="BY Soft Tech Insights">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  
    
      <link rel="preconnect" href="https://fonts.googleapis.com" >
      <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
    
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin>
    
      <link rel="preconnect" href="https://fonts.googleapis.com" >
      <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
    
      <link rel="preconnect" href="https://cdn.jsdelivr.net" >
      <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" >
    

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap">
  

  <!-- GA -->
  

  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css">

  <link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css">

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.25.0/dist/tocbot.min.css">
  

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css">
  

  
    <!-- Manific Popup -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css">
  

  <!-- JavaScript -->

  
    <!-- Switch the mode between dark and light. -->

<script type="text/javascript">
  class ModeToggle {
    static get MODE_KEY() {
      return 'mode';
    }
    static get MODE_ATTR() {
      return 'data-mode';
    }
    static get DARK_MODE() {
      return 'dark';
    }
    static get LIGHT_MODE() {
      return 'light';
    }
    static get ID() {
      return 'mode-toggle';
    }

    constructor() {
      if (this.hasMode) {
        if (this.isDarkMode) {
          if (!this.isSysDarkPrefer) {
            this.setDark();
          }
        } else {
          if (this.isSysDarkPrefer) {
            this.setLight();
          }
        }
      }

      let self = this;

      /* always follow the system prefers */
      this.sysDarkPrefers.addEventListener('change', () => {
        if (self.hasMode) {
          if (self.isDarkMode) {
            if (!self.isSysDarkPrefer) {
              self.setDark();
            }
          } else {
            if (self.isSysDarkPrefer) {
              self.setLight();
            }
          }

          self.clearMode();
        }

        self.notify();
      });
    } /* constructor() */

    get sysDarkPrefers() {
      return window.matchMedia('(prefers-color-scheme: dark)');
    }

    get isSysDarkPrefer() {
      return this.sysDarkPrefers.matches;
    }

    get isDarkMode() {
      return this.mode === ModeToggle.DARK_MODE;
    }

    get isLightMode() {
      return this.mode === ModeToggle.LIGHT_MODE;
    }

    get hasMode() {
      return this.mode != null;
    }

    get mode() {
      return sessionStorage.getItem(ModeToggle.MODE_KEY);
    }

    /* get the current mode on screen */
    get modeStatus() {
      if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) {
        return ModeToggle.DARK_MODE;
      } else {
        return ModeToggle.LIGHT_MODE;
      }
    }

    setDark() {
      document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE);
    }

    setLight() {
      document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE);
    }

    clearMode() {
      document.documentElement.removeAttribute(ModeToggle.MODE_ATTR);
      sessionStorage.removeItem(ModeToggle.MODE_KEY);
    }

    /* Notify another plugins that the theme mode has changed */
    notify() {
      window.postMessage(
        {
          direction: ModeToggle.ID,
          message: this.modeStatus
        },
        '*'
      );
    }

    flipMode() {
      if (this.hasMode) {
        if (this.isSysDarkPrefer) {
          if (this.isLightMode) {
            this.clearMode();
          } else {
            this.setLight();
          }
        } else {
          if (this.isDarkMode) {
            this.clearMode();
          } else {
            this.setDark();
          }
        }
      } else {
        if (this.isSysDarkPrefer) {
          this.setLight();
        } else {
          this.setDark();
        }
      }

      this.notify();
    } /* flipMode() */
  } /* ModeToggle */

  const modeToggle = new ModeToggle();
</script>

  

  <!-- A placeholder to allow defining custom metadata -->

</head>


  <body>
    <!-- The Side Bar -->

<aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end">
  <header class="profile-wrapper">
    <a href="/" id="avatar" class="rounded-circle"><img src="/assets/img/commons/bi.png" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a>

    <h1 class="site-title">
      <a href="/">BY Soft Tech Insights</a>
    </h1>
    <p class="site-subtitle fst-italic mb-0">Building the Future with the Power of Code, Our Story Awaits You Here.</p>
  </header>
  <!-- .profile-wrapper -->

  <nav class="flex-column flex-grow-1 w-100 ps-0">
    <ul class="nav">
      <!-- home -->
      <li class="nav-item">
        <a href="/" class="nav-link">
          <i class="fa-fw fas fa-home"></i>
          <span>HOME</span>
        </a>
      </li>
      <!-- the real tabs -->
      
        <li class="nav-item">
          <a href="/categories/" class="nav-link">
            <i class="fa-fw fas fa-stream"></i>
            

            <span>CATEGORIES</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/tags/" class="nav-link">
            <i class="fa-fw fas fa-tags"></i>
            

            <span>TAGS</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/archives/" class="nav-link">
            <i class="fa-fw fas fa-archive"></i>
            

            <span>ARCHIVES</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/about/" class="nav-link">
            <i class="fa-fw fas fa-info-circle"></i>
            

            <span>ABOUT</span>
          </a>
        </li>
        <!-- .nav-item -->
      
    </ul>
  </nav>

  <div class="sidebar-bottom d-flex flex-wrap  align-items-center w-100">
    
      <button type="button" class="mode-toggle btn" aria-label="Switch Mode">
        <i class="fas fa-adjust"></i>
      </button>

      
        <span class="icon-border"></span>
      
    

    
      

      
        <a
          href="https://github.com/BY-SoftCorp"
          aria-label="github"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-github"></i>
        </a>
      
    
      

      
        <a
          href="https://twitter.com/"
          aria-label="twitter"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fa-brands fa-x-twitter"></i>
        </a>
      
    
      

      
        <a
          href="javascript:location.href = 'mailto:' + ['dev','by-softcorp.com'].join('@')"
          aria-label="email"
          

          

          

          
        >
          <i class="fas fa-envelope"></i>
        </a>
      
    
      

      
        <a
          href="/feed.xml"
          aria-label="rss"
          

          

          

          
        >
          <i class="fas fa-rss"></i>
        </a>
      
    
  </div>
  <!-- .sidebar-bottom -->
</aside>
<!-- #sidebar -->


    <div id="main-wrapper" class="d-flex justify-content-center">
      <div class="container d-flex flex-column px-xxl-5">
        <!-- The Top Bar -->

<header id="topbar-wrapper" aria-label="Top Bar">
  <div
    id="topbar"
    class="d-flex align-items-center justify-content-between px-lg-3 h-100"
  >
    <nav id="breadcrumb" aria-label="Breadcrumb">
      

      
        
          
            <span>
              <a href="/">
                Home
              </a>
            </span>

          
        
          
        
          
            
              <span>공통 기능을 가진 ViewModel 만들어 재사용하기</span>
            

          
        
      
    </nav>
    <!-- endof #breadcrumb -->

    <button type="button" id="sidebar-trigger" class="btn btn-link">
      <i class="fas fa-bars fa-fw"></i>
    </button>

    <div id="topbar-title">
      Post
    </div>

    <button type="button" id="search-trigger" class="btn btn-link">
      <i class="fas fa-search fa-fw"></i>
    </button>

    <search class="align-items-center ms-3 ms-lg-0">
      <i class="fas fa-search fa-fw"></i>
      <input
        class="form-control"
        id="search-input"
        type="search"
        aria-label="search"
        autocomplete="off"
        placeholder="Search..."
      >
    </search>
    <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button>
  </div>
</header>


        <div class="row flex-grow-1">
          <main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              <!-- Refactor the HTML structure -->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Change the icon of checkbox -->



<!-- Handle images -->




  
  

  
    
      
      
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  

  


<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    

    
  

  
  

  

  
  

  

  
  

  




<!-- return -->




<article class="px-1">
  <header>
    <h1 data-toc-skip>공통 기능을 가진 ViewModel 만들어 재사용하기</h1>

    <div class="post-meta text-muted">
      <!-- published date -->
      <span>
        Posted
        <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1714094160"
  data-df="ll"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  Apr 26, 2024
</time>

      </span>

      <!-- lastmod date -->
      

      

      <div class="d-flex justify-content-between">
        <!-- author(s) -->
        <span>
          

          By

          <em>
            
              
                한 재연
                
              
            
          </em>
        </span>

        <!-- read time -->
        <!-- Calculate the post's reading time, and display the word count in tooltip -->



<!-- words per minute -->










<!-- return element -->
<span
  class="readtime"
  data-bs-toggle="tooltip"
  data-bs-placement="bottom"
  title="1965 words"
>
  <em>10 min</em> read</span>

      </div>
      <!-- .d-flex -->
    </div>
    <!-- .post-meta -->
  </header>

  <div class="content">
    <p><a href="/posts/apply-mvvm-design/">이전 블로그</a> 글에서 <code class="language-plaintext highlighter-rouge">MVVM</code> 패턴을 적용했던 과정에 대해 남겨보았습니다. 그 이후로도 저는 여러가지 ViewModel과 Model을 구현해보았는데요, 매일 마주하는 코드인데도 불구하고 고쳐야 할 점이 매번 새롭게 보이고 있습니다. 쉽지 않은 내용인 만큼 아직도 <code class="language-plaintext highlighter-rouge">MVVM</code> 패턴에 익숙해지는 중인 것 같습니다. 최근 한달동안 가장 많이 고민 했던 내용이 <code class="language-plaintext highlighter-rouge">MVVM</code>이었던 터라 이번 글도 <code class="language-plaintext highlighter-rouge">MVVM</code>과 관련된 내용이지만, 오늘은 저번보다 조금! 더 발전한 내용을 가지고 와보았습니다.</p>

<p>처음 <code class="language-plaintext highlighter-rouge">MVVM</code> 패턴을 적용하면서는 “이렇게 작성하면 이런저런 부분에서 재사용이 가능하겠구나!” 하는 대략적인 생각을 했고, 몇가지의 ViewModel과 Model을 더 만들어보며 비슷하게 생긴 컴포넌트들에 ViewModel을 재사용 해보기도 했습니다. 모양새가 유사한 컴포넌트들은 서로 다른 모듈이어도 ViewModel을 재사용하기가 어렵지 않았습니다. 생긴것이 비슷하니 비교적 추상화가 쉬웠기 때문입니다. 하지만 이번에 제가 가져온 컴포넌트는 조금 다르게 생긴 이 두 친구들입니다.</p>

<p><a href="/assets/img/references/reuse-viewmodel-img-1.png" class="popup img-link  shimmer"><img src="/assets/img/references/reuse-viewmodel-img-1.png" alt="Image Alt 텍스트" loading="lazy"></a>
<a href="/assets/img/references/reuse-viewmodel-img-2.png" class="popup img-link  shimmer"><img src="/assets/img/references/reuse-viewmodel-img-2.png" alt="Image Alt 텍스트" loading="lazy"></a></p>

<p>첫번째 컴포넌트는 메뉴 컴포넌트, 두번째 컴포넌트는 네비게이션 컴포넌트 입니다.</p>

<p><code class="language-plaintext highlighter-rouge">MVVM</code> 패턴에 익숙하신 분들은 어떻게 생각하실지 모르겠지만, 저는 이 두 컴포넌트를 처음 봤을때 “모양이 다르게 생겼는데 어떻게 ViewModel을 재사용하지?”라는 생각을 했습니다. 하지만 ViewModel의 역할을 다시 잘 생각해보면, UI를 보여주는 일을 하는 것도 아니고 특정 데이터를 가져오는 일을 하지도 않습니다. 단순히 어떤 데이터를 어떠한 형태로 전달해주기만 합니다. 즉, 모양이 다르고, 사용하는 데이터가 달라도, 그 기능이 비슷하면 ViewModel은 재사용될 수 있습니다.</p>

<p>이제 두 컴포넌트의 겉모습은 잊어야 합니다. 그래야 추상화가 쉬워지니까요. 우선, 두 컴포넌트가 어떤 기능을 동일하게 수행하는지 생각해봅니다.</p>

<p><a href="/assets/img/references/reuse-viewmodel-img-3.png" class="popup img-link  shimmer"><img src="/assets/img/references/reuse-viewmodel-img-3.png" alt="Image Alt 텍스트" loading="lazy"></a></p>

<p>둘 다 어떤 선택지를 클릭했을 때, 해당 선택지에 해당하는 결과물을 내려주는 기능을 합니다. 기능에 집중해보니 이 두 컴포넌트는 같은 기능을 하고 있다는 것을 알게 되었습니다. 이제 이 기능들을 포함하고 있는 ViewModel을 작성해볼까요?</p>

<div class="language-typescript highlighter-rouge"><div class="code-header">
        <span data-label-text="TypeScript"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre></td><td class="rouge-code"><pre><span class="kd">function</span> <span class="nx">OptionSelectViewModel</span><span class="p">(</span><span class="nx">data</span><span class="p">:</span> <span class="nx">OptionListType</span><span class="p">):</span> <span class="nx">OptionSelectVM</span> <span class="p">{</span>
	<span class="kd">const</span> <span class="p">[</span><span class="nx">selectedOption</span><span class="p">,</span> <span class="nx">setSelectedOption</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="dl">''</span><span class="p">)</span>

        <span class="c1">// 어떤 메뉴가 클릭되었는지 기록하는 함수</span>
	<span class="kd">function</span> <span class="nx">handleSelectMenu</span><span class="p">(</span><span class="nx">option</span><span class="p">:</span> <span class="kr">string</span><span class="p">)</span> <span class="p">{</span>
		<span class="nx">setSelectedMenu</span><span class="p">(</span><span class="nx">option</span><span class="p">)</span>
	<span class="p">}</span>

	<span class="c1">// 클릭된 메뉴에 따라 알맞은 결과물을 리턴해주는 함수</span>
	<span class="kd">function</span> <span class="nx">getResult</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="p">(</span>
			<span class="nx">data</span><span class="p">.</span><span class="nx">getList</span><span class="p">().</span><span class="nx">filter</span><span class="p">((</span><span class="nx">it</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">it</span><span class="p">.</span><span class="nx">getTitle</span><span class="p">()</span> <span class="o">===</span> <span class="nx">selectedOption</span><span class="p">)</span> <span class="o">??</span> <span class="p">[]</span>
		<span class="p">)</span>
	<span class="p">}</span>

	<span class="c1">// 전체 메뉴를 선택했을 때 전체보기로 메뉴 리셋을 해주는 함수</span>
	<span class="kd">function</span> <span class="nx">handleResetOptions</span><span class="p">(</span><span class="nx">section</span><span class="p">?:</span> <span class="kr">string</span><span class="p">)</span> <span class="p">{</span>
		<span class="nx">setSelectedOption</span><span class="p">(</span><span class="dl">''</span><span class="p">)</span>
	<span class="p">}</span>

	<span class="k">return</span> <span class="p">{</span>
		<span class="nx">handleSelectMenu</span><span class="p">,</span>
		<span class="nx">getResult</span><span class="p">,</span>
		<span class="nx">handleResetOptions</span><span class="p">,</span>
	<span class="p">}</span>
<span class="p">}</span>

</pre></td></tr></tbody></table></code></div></div>

<p>두 컴포넌트의 공통된 기능들을 포함한 ViewModel이 만들어졌습니다. 이제 이 ViewModel에 전달해줄 Model도 작성해봅시다.</p>

<div class="language-typescript highlighter-rouge"><div class="code-header">
        <span data-label-text="TypeScript"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nx">OptionItem</span> <span class="k">implements</span> <span class="nx">OptionItemType</span> <span class="p">{</span>
	<span class="k">private</span> <span class="k">readonly</span> <span class="nx">title</span><span class="p">:</span> <span class="kr">string</span>

	<span class="kd">constructor</span><span class="p">(</span><span class="nx">raw</span><span class="p">:</span> <span class="kr">string</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">title</span> <span class="o">=</span> <span class="nx">raw</span><span class="p">.</span><span class="nx">category</span>
	<span class="p">}</span>

	<span class="nx">getTitle</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">title</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nx">OptionList</span> <span class="k">implements</span> <span class="nx">OptionListType</span> <span class="p">{</span>
	<span class="k">private</span> <span class="k">readonly</span> <span class="nx">list</span><span class="p">:</span> <span class="nx">OptionItemType</span><span class="p">[]</span>

	<span class="kd">constructor</span><span class="p">(</span><span class="nx">raw</span><span class="p">:</span> <span class="nx">OptionItemType</span><span class="p">[])</span> <span class="p">{</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">list</span> <span class="o">=</span> <span class="nx">raw</span>
	<span class="p">}</span>

	<span class="nx">getList</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">list</span>
<span class="p">}</span>

<span class="c1">// 이렇게 구현해버리면 OptionListType 인터페이스를 구현할 수 없어 ViewModel이 인자로 받지 못하게 됨.</span>
<span class="kd">class</span> <span class="nx">OptionMenu</span> <span class="p">{</span>
	<span class="k">private</span> <span class="k">readonly</span> <span class="nx">list</span><span class="p">:</span> <span class="nx">OptionMenuCategoryType</span><span class="p">[]</span>

	<span class="kd">constructor</span><span class="p">(</span><span class="nx">raw</span><span class="p">:</span> <span class="nx">OptionMenuCategoryType</span><span class="p">[])</span> <span class="p">{</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">list</span> <span class="o">=</span> <span class="nx">raw</span>
	<span class="p">}</span>

	<span class="nx">getList</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">list</span>
<span class="p">}</span>

</pre></td></tr></tbody></table></code></div></div>

<p>그런데 여기서 한가지 문제가 생겼습니다. 위에 작성한 Model은 네비게이션 컴포넌트에 사용되는 데이터 모델에만 적용되고 메뉴 컴포넌트에 사용되는 데이터 모델에는 적용되지 않습니다. 네비게이션 컴포넌트는 메뉴를 선택하면 해당 메뉴의 title만 리턴해주면 되는데, 메뉴 컴포넌트는 해당 메뉴의 하위 카테고리 리스트를 내려주어야 하기 때문입니다.</p>

<p><a href="/assets/img/references/reuse-viewmodel-img-4.png" class="popup img-link  shimmer"><img src="/assets/img/references/reuse-viewmodel-img-4.png" alt="Image Alt 텍스트" loading="lazy"></a></p>

<p><a href="/assets/img/references/reuse-viewmodel-img-5.png" class="popup img-link  shimmer"><img src="/assets/img/references/reuse-viewmodel-img-5.png" alt="Image Alt 텍스트" loading="lazy"></a></p>

<p>ViewModel은 <code class="language-plaintext highlighter-rouge">OptionListType</code> 타입만 인자로 받는데, 메뉴 컴포넌트용 데이터 모델을 인자로 받는 ViewModel을 새로 만들어야한다면 기존의 ViewModel을 재사용할 수 없게 됩니다. 어떻게 할까 방법을 고민하다가, 클래스는 인터페이스를 다중 구현할 수 있다는 점을 이용해보기로 했습니다.</p>

<div class="language-typescript highlighter-rouge"><div class="code-header">
        <span data-label-text="TypeScript"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nx">OptionItem</span> <span class="k">implements</span> <span class="nx">OptionItemType</span> <span class="p">{</span>
	<span class="k">private</span> <span class="k">readonly</span> <span class="nx">title</span><span class="p">:</span> <span class="kr">string</span>

	<span class="kd">constructor</span><span class="p">(</span><span class="nx">raw</span><span class="p">:</span> <span class="kr">string</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">title</span> <span class="o">=</span> <span class="nx">raw</span><span class="p">.</span><span class="nx">name</span>
	<span class="p">}</span>

	<span class="nx">getTitle</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">title</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nx">OptionList</span> <span class="k">implements</span> <span class="nx">OptionListType</span><span class="p">,</span> <span class="nx">OptionItemType</span> <span class="p">{</span>
	<span class="k">private</span> <span class="k">readonly</span> <span class="nx">list</span><span class="p">:</span> <span class="nx">OptionItemType</span><span class="p">[]</span>

	<span class="kd">constructor</span><span class="p">(</span><span class="nx">raw</span><span class="p">:</span> <span class="nx">OptionItemType</span><span class="p">[])</span> <span class="p">{</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">list</span> <span class="o">=</span> <span class="nx">raw</span>
	<span class="p">}</span>

	<span class="nx">getList</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">list</span>

	<span class="c1">// 타입을 맞추기 위해 임의의 값을 넣어줌</span>
	<span class="nx">getTitle</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nb">String</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">list</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nx">OptionMenu</span> <span class="k">implements</span> <span class="nx">OptionListType</span> <span class="p">{</span>
	<span class="k">private</span> <span class="k">readonly</span> <span class="nx">list</span><span class="p">:</span> <span class="nx">OptionItemType</span><span class="p">[]</span>

	<span class="kd">constructor</span><span class="p">(</span><span class="nx">raw</span><span class="p">:</span> <span class="nx">OptionItemType</span><span class="p">[])</span> <span class="p">{</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">list</span> <span class="o">=</span> <span class="nx">raw</span>
	<span class="p">}</span>

	<span class="nx">getList</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">list</span>
<span class="p">}</span>

</pre></td></tr></tbody></table></code></div></div>

<p><code class="language-plaintext highlighter-rouge">OptionList</code>를 <code class="language-plaintext highlighter-rouge">OptionItemType</code> 인터페이스에 맞추기 위해 메서드를 끼워맞추는 과정이 필요했지만, 무사히 두개의 인터페이스를 구현했습니다. 이제 돌려주는 값의 데이터 타입이 달라 <code class="language-plaintext highlighter-rouge">OptionList</code>에 들어갈 수 없었던 메뉴 컴포넌트의 데이터가 <code class="language-plaintext highlighter-rouge">OptionMenu</code>를 통해 ViewModel에 사용되어질 수 있게 되었습니다. 네비게이션 컴포넌트는 기존의 <code class="language-plaintext highlighter-rouge">OptionList</code>와 <code class="language-plaintext highlighter-rouge">OptionMenu</code> 둘 다 사용가능합니다.</p>

<div class="language-tsx highlighter-rouge"><div class="code-header">
        <span data-label-text="Tsx"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">navPreData</span> <span class="o">=</span> <span class="nx">NavTitleList</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">it</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">new</span> <span class="nx">OptionItem</span><span class="p">(</span><span class="nx">it</span><span class="p">))</span>
<span class="kd">const</span> <span class="nx">navData</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">OptionList</span><span class="p">(</span><span class="nx">navPreData</span><span class="p">)</span>

<span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nc">Nav</span> 
      <span class="na">data</span><span class="p">=</span><span class="si">{</span><span class="nx">OptionSelectViewModel</span><span class="p">(</span><span class="nx">navData</span><span class="p">)</span><span class="si">}</span> 
    <span class="p">/&gt;</span>
<span class="p">)</span>


</pre></td></tr></tbody></table></code></div></div>

<div class="language-tsx highlighter-rouge"><div class="code-header">
        <span data-label-text="Tsx"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">menuPreData</span> <span class="o">=</span> <span class="nx">MenuCategoryList</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">it</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">new</span> <span class="nx">OptionList</span><span class="p">(</span><span class="nx">it</span><span class="p">))</span>
<span class="kd">const</span> <span class="nx">menuData</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">OptionMenu</span><span class="p">(</span><span class="nx">menuPreData</span><span class="p">)</span>

<span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nc">Menu</span>
      <span class="na">data</span><span class="p">=</span><span class="si">{</span><span class="nx">OptionSelectViewModel</span><span class="p">(</span><span class="nx">menuData</span><span class="p">)</span><span class="si">}</span>
    <span class="p">/&gt;</span>
<span class="p">)</span>


</pre></td></tr></tbody></table></code></div></div>

<p>이제 이렇게 ViewModel을 두개의 View에 재사용할 수 있습니다.</p>

<p>참고로 아래의 컴포넌트도 같은 ViewModel을 사용할 수 있답니다. 기능이 비슷하다는 생각이 드시나요?</p>

<p><a href="/assets/img/references/reuse-viewmodel-img-6.png" class="popup img-link  shimmer"><img src="/assets/img/references/reuse-viewmodel-img-6.png" alt="Image Alt 텍스트" loading="lazy"></a></p>

<h2 id="마치며"><span class="me-2">마치며</span><a href="#마치며" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>어려운 과정은 아니었지만, 보이는 것에서 멀어지고 기능에 집중한 추상화를 진행했다는 점에서 한단계 성장했다는 생각을 하게 된 시간이었습니다. 또, 개인적인 성장 뿐만 아니라 코드적인 측면에서도 중복코드를 줄이고, 유닛 테스트를 진행하기에도 더욱 용이한 발전된 코드가 되었습니다. ViewModel은 비즈니스 로직을 UI에서 분리하고, 더욱 작은 조각으로 만들어주어 ‘단위’별로 테스트가 가능하게 해주는 장점을 가지는데, 이 ViewModel을 재사용하게 되면 테스트를 진행해야 하는 모듈의 수가 적어지기 때문에 단위 테스트를 진행하기가 더욱 편해집니다. 다음에는 ViewModel과 Model로 진행한 단위 테스트에 대해서도 글을 남겨보면 좋을 것 같습니다. 다음 글에서 만나뵙겠습니다 안녕 🤗</p>

  </div>

  <div class="post-tail-wrapper text-muted">
    <!-- categories -->
    
      <div class="post-meta mb-3">
        <i class="far fa-folder-open fa-fw me-1"></i>
        
          <a href="/categories/typescript/">typescript</a>,
          <a href="/categories/react/">react</a>,
          <a href="/categories/frontend/">frontend</a>
      </div>
    

    <!-- tags -->
    
      <div class="post-tags">
        <i class="fa fa-tags fa-fw me-1"></i>
        
          <a
            href="/tags/design-pattern/"
            class="post-tag no-text-decoration"
          >design-pattern</a>
        
          <a
            href="/tags/mvvm/"
            class="post-tag no-text-decoration"
          >mvvm</a>
        
      </div>
    

    <div
      class="
        post-tail-bottom
        d-flex justify-content-between align-items-center mt-5 pb-2
      "
    >
      <div class="license-wrapper">
        
          

          This post is licensed under 
        <a href="https://creativecommons.org/licenses/by/4.0/">
          CC BY 4.0
        </a>
         by the author.
        
      </div>

      <!-- Post sharing snippet -->

<div class="share-wrapper d-flex align-items-center">
  <span class="share-label text-muted">Share</span>
  <span class="share-icons">
    
    
    

    

      

      <a href="https://twitter.com/intent/tweet?text=%EA%B3%B5%ED%86%B5%20%EA%B8%B0%EB%8A%A5%EC%9D%84%20%EA%B0%80%EC%A7%84%20ViewModel%20%EB%A7%8C%EB%93%A4%EC%96%B4%20%EC%9E%AC%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0%20-%20BY%20Soft%20Tech%20Insights&url=https%3A%2F%2Fblog.by-softcorp.com%2Fposts%2Freuse-viewmodel%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter">
        <i class="fa-fw fa-brands fa-square-x-twitter"></i>
      </a>
    

      

      <a href="https://www.facebook.com/sharer/sharer.php?title=%EA%B3%B5%ED%86%B5%20%EA%B8%B0%EB%8A%A5%EC%9D%84%20%EA%B0%80%EC%A7%84%20ViewModel%20%EB%A7%8C%EB%93%A4%EC%96%B4%20%EC%9E%AC%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0%20-%20BY%20Soft%20Tech%20Insights&u=https%3A%2F%2Fblog.by-softcorp.com%2Fposts%2Freuse-viewmodel%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook">
        <i class="fa-fw fab fa-facebook-square"></i>
      </a>
    

      

      <a href="https://t.me/share/url?url=https%3A%2F%2Fblog.by-softcorp.com%2Fposts%2Freuse-viewmodel%2F&text=%EA%B3%B5%ED%86%B5%20%EA%B8%B0%EB%8A%A5%EC%9D%84%20%EA%B0%80%EC%A7%84%20ViewModel%20%EB%A7%8C%EB%93%A4%EC%96%B4%20%EC%9E%AC%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0%20-%20BY%20Soft%20Tech%20Insights" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram">
        <i class="fa-fw fab fa-telegram"></i>
      </a>
    

    <button
      id="copy-link"
      aria-label="Copy link"
      class="btn small"
      data-bs-toggle="tooltip"
      data-bs-placement="top"
      title="Copy link"
      data-title-succeed="Link copied successfully!"
    >
      <i class="fa-fw fas fa-link pe-none fs-6"></i>
    </button>
  </span>
</div>

    </div>
    <!-- .post-tail-bottom -->
  </div>
  <!-- div.post-tail-wrapper -->
</article>


            
          </main>

          <!-- panel -->
          <aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 mb-5 text-muted">
            <div class="access">
              <!-- Get 5 last posted/updated posts -->














  <section id="access-lastmod">
    <h2 class="panel-heading">Recently Updated</h2>
    <ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2">
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/reuse-viewmodel/">공통 기능을 가진 ViewModel 만들어 재사용하기</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/apply-mvvm-design/">신입 프론트엔드 개발자의 MVVM 패턴 적용기</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/fast-api-db-test/">FastAPI와 SQLAlchemy 환경에서 Database Test</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/annotated-enum/">Python 열거형과 SQLAlchemy</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/fast-api-validator/">FastAPI 유효성 검사</a>
        </li>
      
    </ul>
  </section>
  <!-- #access-lastmod -->


              <!-- The trending tags list -->















  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/design-pattern/">design-pattern</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/fastapi/">fastapi</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/mvvm/">mvvm</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/sqlalchemy/">sqlalchemy</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/enum/">enum</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/pydantic/">pydantic</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/unittest/">unittest</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/validate/">validate</a>
      
    </div>
  </section>


            </div>

            
              
              



  <section id="toc-wrapper" class="ps-0 pe-4">
    <h2 class="panel-heading ps-3 pt-2 mb-2">Contents</h2>
    <nav id="toc"></nav>
  </section>


            
          </aside>
        </div>

        <div class="row">
          <!-- tail -->
          <div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              
              <!-- Recommend the other 3 posts according to the tags and categories of the current post. -->

<!-- The total size of related posts -->


<!-- An random integer that bigger than 0 -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy} -->














  

  
    
  

  

  

  

  

  











  <aside id="related-posts" aria-labelledby="related-label">
    <h3 class="mb-4" id="related-label">Further Reading</h3>
    <nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4">
      
        <article class="col">
          <a href="/posts/apply-mvvm-design/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1711417620"
  data-df="ll"
  
>
  Mar 26, 2024
</time>

              <h4 class="pt-0 my-2">신입 프론트엔드 개발자의 MVVM 패턴 적용기</h4>
              <div class="text-muted">
                <p>
                  





                  MVVM 패턴은 디자인 패턴의 한 종류로, Model, View, ViewModel을 사용해 UI 관련 로직과 비즈니스 로직을 명확하게 분리합니다. 취업을 준비하던 시기에 진행했던 토이 프로젝트는 규모가 작아 이러한 패턴을 적용할 필요성을 느끼지 못했습니다. 그러나 프론트엔드 개발자로 일을 시작하고 사용자들이 사용할 실제 서비스를 제작하며, 코드의 유...
                </p>
              </div>
            </div>
          </a>
        </article>
      
    </nav>
  </aside>
  <!-- #related-posts -->


            
              
              <!-- Navigation buttons at the bottom of the post. -->

<nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation">
  
  

  
    <a
      href="/posts/apply-mvvm-design/"
      class="btn btn-outline-primary"
      aria-label="Older"
    >
      <p>신입 프론트엔드 개발자의 MVVM 패턴 적용기</p>
    </a>
  

  
    <div class="btn btn-outline-primary disabled" aria-label="Newer">
      <p>-</p>
    </div>
  
</nav>

            
              
              <!--  The comments switcher -->


            

            <!-- The Footer -->

<footer
  aria-label="Site Info"
  class="
    d-flex flex-column justify-content-center text-muted
    flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3
  "
>
  <p>
    ©
    <time>2024</time>
    <a href="https://github.com/BY-SoftCorp">BY-Soft</a>.
    
      <span
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author."
      >Some rights reserved.</span>
    
  </p>

  <p>
  </p>
</footer>

          </div>
        </div>

        <!-- The Search results -->

<div id="search-result-wrapper" class="d-flex justify-content-center unloaded">
  <div class="col-11 content">
    <div id="search-hints">
      <!-- The trending tags list -->















  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/design-pattern/">design-pattern</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/fastapi/">fastapi</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/mvvm/">mvvm</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/sqlalchemy/">sqlalchemy</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/enum/">enum</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/pydantic/">pydantic</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/unittest/">unittest</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/validate/">validate</a>
      
    </div>
  </section>


    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>

      </div>

      <aside aria-label="Scroll to Top">
        <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow">
          <i class="fas fa-angle-up"></i>
        </button>
      </aside>
    </div>

    <div id="mask"></div>

    
      <aside
  id="notification"
  class="toast"
  role="alert"
  aria-live="assertive"
  aria-atomic="true"
  data-bs-animation="true"
  data-bs-autohide="false"
>
  <div class="toast-header">
    <button
      type="button"
      class="btn-close ms-auto"
      data-bs-dismiss="toast"
      aria-label="Close"
    ></button>
  </div>
  <div class="toast-body text-center pt-0">
    <p class="px-2 mb-3">A new version of content is available.</p>
    <button type="button" class="btn btn-primary" aria-label="Update">
      Update
    </button>
  </div>
</aside>

    

    <!-- JavaScripts -->

    <!-- JS selector for site. -->

<!-- commons -->



<!-- layout specified -->


  

  
    <!-- image lazy-loading & popup & clipboard -->
    
  















  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  



  <script src="https://cdn.jsdelivr.net/combine/npm/jquery@3.7.1/dist/jquery.min.js,npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js,npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.10/dayjs.min.js,npm/dayjs@1.11.10/locale/en.min.js,npm/dayjs@1.11.10/plugin/relativeTime.min.js,npm/dayjs@1.11.10/plugin/localizedFormat.min.js,npm/tocbot@4.25.0/dist/tocbot.min.js"></script>






<script defer src="/assets/js/dist/post.min.js"></script>






    

    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script>
  /* Note: dependent library will be loaded in `js-selector.html` */
  SimpleJekyllSearch({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('search-results'),
    json: '/assets/js/data/search.json',
    searchResultTemplate: '  <article class="px-1 px-sm-2 px-lg-4 px-xl-0">    <header>      <h2><a href="{url}">{title}</a></h2>      <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">        {categories}        {tags}      </div>    </header>    <p>{snippet}</p>  </article>',
    noResultsText: '<p class="mt-5"></p>',
    templateMiddleware: function(prop, value, template) {
      if (prop === 'categories') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
        }
      }

      if (prop === 'tags') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
        }
      }
    }
  });
</script>

  </body>
</html>

